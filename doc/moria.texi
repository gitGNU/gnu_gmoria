\input texinfo @c -*-texinfo-*-
@c Copyright 2005 Ben Asselstine
@c Copyright (c) 1989-94 James E. Wilson, Robert A. Koeneke
@c This file uses the @command command introduced in Texinfo 4.0.
@c %s**start of header
@setfilename moria.info
@setcontentsaftertitlepage
@settitle The Moria Manual
@finalout
@setchapternewpage odd
@c %**end of header

@ifinfo
This file is a manual for the turn-based action-strategy game moria.
@end ifinfo

@dircategory Games
@direntry
* UMoria: (moria).                 Turn-based action-strategy dungeon game.
@end direntry

@titlepage
@title moria
@subtitle Explore the Dungeons of Moria
@author by Robert Alan Koeneke and James E. Wilson

@page
@vskip 0pt plus 1filll
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Library General Public License for more details.
@end titlepage

@contents

@node Top, Running The Game, (dir), (dir)
@chapter Introduction

The game of @emph{moria} is a single player dungeon simulation.  A
player may choose from a number of races and classes when creating a 
character, and then `run' that character over a period of
days, weeks, even months, attempting to win the game by defeating
the Balrog which lurks in the deeper levels.

The player will begin his adventure on the town level where he
may acquire supplies, weapons, armor, and magical devices by bartering 
with various shop owners.  After preparing for his adventure, the 
player can descend into the dungeons of @emph{moria} where fantastic adventures 
await his coming!

Before beginning your first adventure, you should read this document 
carefully.  The game of @emph{moria} is a complicated game (but not as complicated as other roguelikes), and will require a dedicated player to win.

@menu
* Running The Game::
* The Character::
* Adventuring::
* Symbols On Your Screen::
* Commands::
* The Town Level::
* Within The Dungeon::
* Attacking and Being Attacked::
* Objects Found In The Dungeon::
* Winning The Game::
* Upon Death and Dying::
* Wizards::
* Contributors::
* A Word From The Authors::
@end menu

@node Running The Game, The Character, Top, Top
@chapter Running The Game

@verbatim
moria [ -o ] [ -r ] [ -s ] [ -S ] [ -n ] [ -w[seed] ] [ savefile ]
@end verbatim

By default, @emph{moria} will save and restore games from a file called
moria.save in your home directory.  If the environment variable
MORIA_SAV is defined, then @emph{moria} will use that file name instead of the
default.  If MORIA_SAV is not a complete path name, then the savefile
will be created or restored from the current directory.  You can also
explicitly specify a savefile on the command line.

If you use the -n option, @emph{moria} will create a new game, ignoring any
savefile which may already exist.  This works best when a savefile name
is specified on the command line, as this will prevent @emph{moria} from trying
to overwrite the default savefile (if it exists) when you try to
save your game.

You move in various directions by pressing the numeric keypad keys,
VMS-style.  If you specify -r, you move the same way you do in
rogue.  You can also specify -o to force the VMS-style command set.
These options will override defaults stored in the savefile.  If these
options are given multiple times, only the last one will take effect.

If you specify -s, @emph{moria} prints all of the scores in the score file and
exits.  On a multiuser system, if you specify -S, @emph{moria} prints
only those scores belonging to you and then exits.

If you specify -w, @emph{moria} will start up in wizard mode.  You can 
resurrect a dead character by using this option when starting the game.
Resurrected characters are teleported to the town level and given zero
hit points.  Wizard mode is intended for debugging the game, and for
experimenting with new features.  To make random events happen in a predictable
manner a seed number can be given to the -w option.  Using wizard mode to win 
the game is considered cheating.  Games played with wizard mode are not scored.

@node The Character, Character Stats,Running The Game, Top
@chapter The Character
All characters have six main attributes which modify their basic
abilities.  These six attributes, called @emph{stats}, are @emph{strength},
@emph{intelligence}, @emph{wisdom}, @emph{dexterity}, 
@emph{constitution}, and @emph{charisma}.
Stats may vary from a minimum of 3 to a maximum of 18.  At the
highest level, stats are further qualified by a number from zero
to one hundred, so that the highest value is actually 18/100.  A
value of 18/100 can be thought of as equivalent to 19, and 18/00
(not actually used) is equivalent to 18.  Because adventurers of
interest tend to be better than average characters, @emph{moria} stats
will average about 13, and are further adjusted by race and
class.  Some races are just naturally better at being certain
classes, as will be shown later.
@menu
* Character Stats::
* Character Sex::
* Character Abilities::
* Choosing A Race::
* Choosing A Class::
* Experience::
@end menu

In addition to the more visible stats, each character has certain
abilities which are mainly determined by his race, class, and
level, but are also modified by his stats.  The abilities are
@emph{fighting}, @emph{throwing/bows}, @emph{saving throw}, 
@emph{stealth}, @emph{disarming}, @emph{magical devices}, @emph{perception}, 
@emph{searching}, and @emph{infravision}.

Characters will be assigned an early history, with money and a
social class based on that history.  Starting money is assigned
based on history, charisma, and somewhat upon the average of a
character's stats.  A character with below average stats will
receive extra money to help him survive the first adventure.

Each character will also have physical attributes such as race,
height, weight, sex, and a physical description.  None of these,
except weight, play any part in the game other than to give the
player a "feeling" for his character.  Weight is used for computing 
carrying capacity and also for bashing.

Finally, each character is assigned @emph{hit points} based on their
race, class, and constitution.  Spell casters will also receive
@emph{mana} which is expended when casting spells.  Mana is based on
Wisdom for Priests and Intelligence for Mages.

@node Character Stats, Character Sex, The Character, The Character
@section Character Stats

@table @code
@item Strength
Strength is important in fighting with weapons and hand to
hand combat.  A high strength can improve your chances of
hitting, and the amount of damage done with each hit.  Characters 
with low strengths may receive penalties.  Strength
is also useful in tunneling, body and shield bashing, and in
carrying heavy items.

@item Intelligence
Intelligence is the prime stat of a mage, or magician.  A
high intelligence increases a mage's chances of learning
spells, and it also increases the amount of mana a mage has.
No spell may be learned by mages with intelligences under 8.
Intelligence also modifies a character's chance of disarming
traps, picking locks, and using magic devices.

@item Wisdom
Wisdom is the prime stat of a priest.  A high wisdom
increases the chance of receiving new spells from a priest's
deity, and it also increases the amount of mana a priest
has.  No spell may be learned by priests with wisdom under
8.  Wisdom also modifies a character's chance of resisting
magical spells cast upon his person.

@item Dexterity
Dexterity is a combination of agility and quickness.  A high
dexterity may allow a character to get multiple blows with
lighter weapons, thus greatly increasing his kill power, and
may increase his chances of hitting with any weapon and
dodging blows from enemies.  Dexterity is also useful in
picking locks, disarming traps, and protecting yourself from
pick pockets.

@item Constitution
Constitution is a character's ability to resist damage to
his body, and to recover from damage received.  Therefore a
character with a high constitution will receive more hit
points, and be more resistant to poisons.

@item Charisma
Charisma represents a character's personality, as well as
physical looks.  A character with a high charisma will
receive better prices from store owners, whereas a character
with a very low charisma will be robbed blind.  A high
charisma will also mean more starting money for the character.
@end table


@node Character Sex, Character Abilities, Character Stats, The Character
@section Character Sex
You may choose to be either a male or a female character.  Only
height and weight are affected by a character's sex.  Female
characters tend to be somewhat smaller and lighter than their
male counterparts.  No adjustments to stats or abilities are made
because of the sex of a character.  Female characters start out
with slightly more money than male characters to help offset the
weight penalty.

@node Character Abilities, Choosing A Race, Character Sex, The Character
@section Character Abilities
Characters possess nine different abilities which can help them
to survive.  The starting abilities of a character are based upon
race and class.  Abilities may be adjusted by high or low stats,
and may increase with the level of the character.

@table @code

@item Fighting
Fighting is the ability to hit and do damage with weapons or
fists.  Normally a character gets a single blow from any
weapon, but if his dexterity and strength are high enough,
he may receive more blows per round with lighter weapons.
Strength and dexterity both modify the ability to hit an
opponent.  This skill increases with the level of the character.

@item Throwing/Bows
Using ranged missile weapons and throwing objects is
included in this skill.  Different stats apply to different
weapons, but this ability may modify the distance an object
is thrown/fired, the amount of damage done, and the ability
to hit a creature.  This skill increases with the level of
the character.

@item Saving Throw
A Saving Throw is the ability of a character to resist the
effects of a spell cast on him by another person/creature.
This does not include spells cast on the player by his own
stupidity, such as quaffing a nasty potion.  This ability
increases with the level of the character, but then most
high level creatures are better at casting spells, so it
tends to even out.  A high wisdom also increases this ability.

@item Stealth
The ability to move silently about is very useful.  Characters 
with good stealth can usually surprise their opponents,
gaining the first blow.  Also, creatures may fail to notice
a stealthy character entirely, allowing a player to avoid
certain fights.  This skill is based entirely upon race and
class, and will never improve unless magically enhanced.

@item Disarming
Disarming is the ability to remove traps (safely), and
includes picking locks on traps and doors.  A successful
disarming will gain the character some experience.  A trap
must be found before it can be disarmed.  Dexterity and
intelligence both modify the ability to disarm, and this
ability increases with the level of the character.

@item Using Magical Devices
Using a magical device such as a wand or staff requires
experience and knowledge.  Spell users such as mages and
priests are therefore much better at using a magical device
than say a warrior.  This skill is modified by intelligence,
and increases with the level of the character.

@item Perception
Perception is the ability to notice something without
actively seeking it out.  This skill is based entirely upon
race and class, and will never improve unless magically
enhanced.

@item Searching
To search is to actively look for secret doors, floor traps,
and traps on chests.  Rogues are the best at searching, but
mages, rangers, and priests are also good at it.  This skill
is based entirely upon race and class, and will never
improve unless magically enhanced.

@item Infravision
Infravision is the ability to see heat sources.  Since most
of the dungeon is cool or cold, infravision will not allow
the player to see walls and objects.  Infravision will allow
a character to see any warm-blooded creatures up to a certain 
distance.  This ability works equally well with or
without a light source.  The majority of @emph{moria}'s creatures
are cold-blooded, and will not be detected unless lit up by
a light source.  All non-human races have innate infravision
ability.  Humans can gain infravision only if it is magically 
enhanced.

@end table

@node Choosing A Race, Race Versus Skills and Stats, Character Abilities, The Character
@section Choosing A Race
There are eight different races that you can choose from in
@emph{moria}.  Some races are restricted as to what profession they may
be, and each race has its own adjustments to a character's stats
and abilities.

@table @code
@item Human
The human is the base character, all other races are compared 
to him.  Humans can choose any class, and are average
at everything.  Humans tend to go up levels faster than any
other race, because of their shorter life spans.  No racial
adjustments occur to characters choosing human.

@item Half-Elf
Half-elves tend to be smarter and faster than a human, but
not as strong.  Half-elves are slightly better at searching,
disarming, perception, stealth, and magic, but they are not
as good at hand weapons.  Half-elves may choose any class.

@item Elf
Elves are better magicians then humans, but not as good at
fighting.  They tend to be smarter and faster than either
humans or half-elves, and also have better wisdom.  Elves
are better at searching, disarming, perception, stealth, and
magic, but they are not as good at hand weapons.  Elves may
choose any class except Paladin.

@item Halfling
Halflings, or Hobbits, are very good at bows, throwing, and
have good saving throws.  They also are very good at searching, 
disarming, perception, and stealth; so they make excellent 
thieves (but prefer to be called burglars...).  They
will be much weaker than humans, and no good at bashing.
Halflings have fair infravision, so they can detect warm
creatures at a distance.  Halflings can choose between being
a warrior, mage, or rogue.

@item Gnome
Gnomes are smaller than dwarfs, but larger than halflings.
They, like the halflings, live in the earth in burrow-like
homes.  Gnomes are practical jokers, so if they can kill
something in a humorous way, so much the better.  Gnomes
make excellent mages, and have very good saving throws.
They are good at searching, disarming, perception, and
stealth.  They have lower strength than humans so they are
not very good at fighting with hand weapons.  Gnomes have
fair infravision, so they can detect warm creatures at a
distance.  A gnome may choose between being a warrior, mage,
priest, or rogue.

@item Dwarf
Dwarves are the headstrong miners and fighters of legend.
Since dungeons are the natural home of a dwarf, they are
excellent choices for a warrior or priest.  Dwarves tend to
be stronger and have higher constitutions, but are slower
and less intelligent than humans.  Because they are so headstrong 
and are somewhat wise, they resist spells which are
cast on them.  Dwarves also have good infravision because
they live underground.  They do have one big drawback
though.  Dwarves are loudmouthed and proud, singing in loud
voices, arguing with themselves for no good reason, screaming 
out challenges at imagined foes.  In other words,
dwarves have a miserable stealth.

@item Half-Orc
Half-Orcs make excellent warriors, and decent priests, but
are terrible at magic.  They are as bad as dwarves at
stealth, and horrible at searching, disarming, and perception.  
Half-Orcs are, let's face it, ugly.  They tend to pay
more for goods in town.  Half-Orcs do make good priests and
rogues, for the simple reason that Half-Orcs tend to have
great constitutions and lots of hit points.

@item Half-Troll
Half-Trolls are incredibly strong, and have the highest hit
points of any character race.  They are also very stupid and
slow.  They will make great warriors and iffy priests.  They
are bad at searching, disarming, perception, and stealth.
They are so ugly that a Half-Orc grimaces in their presence.
They also happen to be fun to run...


@end table

@menu 
* Race Versus Skills and Stats::
@end menu

@node Race Versus Skills and Stats, Choosing A Class, Choosing A Race, Choosing A Race 
@subsection Race Versus Skills and Stats
Stat, hit dice, and experience points per level modifications due
to race are listed in the following table.

@verbatim
            Str  Int  Wis  Dex  Con  Chr  Hit Dice  Rqd Exp/level

Human        0    0    0    0    0    0      10          +0%
Half-Elf    -1   +1    0   +1   -1   +1       9         +10%
Elf         -1   +2   +1   +1   -2   +1       8         +20%
Halfling    -2   +2   +1   +3   +1   +1       6         +10%
Gnome       -1   +2    0   +2   +1   -2       7         +25%
Dwarf       +2   -3   +1   -2   +2   -3       9         +20%
Half-Orc    +2   -1    0    0   +1   -4      10         +10%
Half-Troll  +4   -4   -2   -4   +3   -6      12         +20%
@end verbatim

Racial abilities as compared to each other, with 1 the lowest, or
worst, and 10 the highest, or best, are listed in the following
table.

@verbatim
           Disarm Search Stealth Percep Fight Bows Save Infra

Human         5      5      5       5     5     5    5  None
Half-Elf      6      7      7       6     4     6    6  20 feet
Elf           8      9      7       7     3     9    7  30 feet
Halfling     10     10     10      10     1    10   10  40 feet
Gnome         9      7      9       9     2     8    9  30 feet
Dwarf         6      8      3       5     9     5    8  50 feet
Half-Orc      3      5      3       2     8     3    3  30 feet
Half-Troll    1      1      1       1    10     1    1  30 feet
@end verbatim


@node Choosing A Class, Race Versus Class, Race Versus Skills and Stats, The Character
@section Choosing A Class
Once a race has been chosen, you will need to pick a class.  Some
classes will not be available to certain races, for instance, a
Half-Troll cannot become a Paladin.  For the first few adventures
it is suggested that you run a warrior or rogue.  Spell casting
generally requires a more experienced player that is familiar
with survival techniques.

@table @code
@item Warrior
A Warrior is a hack-and-slash character, who solves most of
his problems by cutting them to pieces, but will occasionally 
fall back on the help of a magical device.  His prime
stats are Strength and Constitution, and a good Dexterity
can really help at times.  A Warrior will be good at Fighting 
and Throwing/Bows, but bad at most other skills.

@item Mage
A Mage must live by his wits.  He cannot hope to simply hack
his way through the dungeon, and so must therefore use his
magic to defeat, deceive, confuse, and escape.  A mage is
not really complete without an assortment of magical devices
to use in addition to his spells.  He can master the higher
level magical devices far easier than anyone else, and has
the best saving throw to resist effects of spells cast at
him.  Intelligence and Dexterity are his primary stats.
There is no rule that says a mage cannot become a good
fighter, but spells are his true realm.

@item Priest
A Priest is a character of holy devotion.  He explores the
dungeon only to destroy the evil that lurks within, and if
treasure just happens to fall into his pack, well, so much
more to the glory of his temple!  A priest receives his
spells from a deity, and therefore does not choose which
spells he will learn.  He is familiar with magical devices,
preferring to call them instruments of god, but Is not as
good as a mage in their use.  Priests have good saving
throws, and make decent fighters, preferring blunt weapons
over edged ones.  Wisdom and Charisma are the priest's
primary stats.

@item Rogue
A Rogue is a character that prefers to live by his cunning,
but is capable of fighting his way out of a tight spot.  He
is the master of traps and locks, no device being impossible
for him to overcome.  A rogue has a high stealth allowing
him to sneak around many creatures without having to fight,
or sneak up and get the first blow.  A rogue's perception is
higher than any other class, and many times he will notice a
trap or secret door before having to search.  A rogue is
better than a warrior or paladin with magical devices, but
still can not rely on their performance.  Rogues can also
learn a few spells, but not the powerful offensive spells
mages can use.  A rogue's primary stats are Intelligence and
Dexterity.

@item Ranger
A Ranger is a warrior/mage.  He is a good fighter, and the
best of the classes with a missile weapon such as a bow.
The ranger learns spells much more slowly than a mage, but
is capable of learning all but the most powerful spell.
Because a ranger is really a dual class character, more
experience is required for him to advance.  A ranger has a
good stealth, good perception, good searching, a good saving
throw, and is good with magical devices.  His primary stats
are Intelligence and Dexterity.

@item Paladin
A Paladin is a warrior/priest.  He is a very good fighter,
second only to the warrior class, but not very good at missile 
weapons.  He receives prayers at a slower pace then the
priest, but can eventually learn all the prayers.  Because a
paladin is really a dual class character, it requires more
experience to advance him.  A paladin lacks much in the way
of abilities.  He is poor at stealth, perception, searching,
and magical devices.  He has a decent saving throw due to
his divine alliance.  His primary stats are Strength and
Charisma.

@end table
@menu
* Race Versus Class::
* Class Versus Skills::
@end menu

@node Race Versus Class, Class Versus Skills, Choosing A Class, Choosing A Class
@subsection Race Versus Class
@verbatim
            Warrior   Mage    Priest    Rogue   Ranger   Paladin

Human         Yes      Yes      Yes      Yes      Yes      Yes
Half-Elf      Yes      Yes      Yes      Yes      Yes      Yes
Elf           Yes      Yes      Yes      Yes      Yes      No
Halfling      Yes      Yes      No       Yes      No       No
Gnome         Yes      Yes      Yes      Yes      No       No
Dwarf         Yes      No       Yes      No       No       No
Half-Orc      Yes      No       Yes      Yes      No       No
Half-Troll    Yes      No       Yes      No       No       No

@end verbatim

@node Class Versus Skills, Experience, Race Versus Class, Choosing A Class
@subsection Class Versus Skills
Class abilities as compared to each other, with 1 as the lowest,
or worst, and 10 as the highest, or best are shown in the following 
table.
@verbatim
                   Save  Stea-        Magic                 Extra
        Fight Bows Throw  lth  Disarm Device Percep Search Exp/lev

Warrior  10     6    3     2      4      3      2      2       +0%
Mage      2     1   10     5      6     10      8      5      +30%
Priest    4     3    6     5      3      8      4      4      +20%
Rogue     8     9    7    10     10      6     10     10       +0%
Ranger    6    10    8     7      6      7      6      6      +40%
Paladin   9     5    4     2      2      4      2      2      +35%
@end verbatim

@node Experience, Getting Experience, Class Versus Skills, The Character
@section Experience
All characters receive experience during the game.  Experience
determines your level, which determines hit points, mana points,
spells, abilities, etc.  The amount of experience required to
advance a level increases as you play the game, according to
race and class.

@menu 
* Getting Experience::
@end menu

@node Getting Experience, Adventuring, Experience, Experience
@subsection Getting Experience
There are many ways to gain experience.  This list shows a few.

@itemize
@item
Defeating monsters
@item
Disarming traps
@item
Picking locks
@item
Using a scroll, potion, staff, wand, or rod for the first time and discovering what it did
@item
Casting a spell successfully for the first time
@item
Drinking a potion of gain experience or gain level
@end itemize



@node Adventuring, Symbols On Your Screen, Getting Experience, Top
@chapter Adventuring
After you have created your character, you will begin your @emph{moria}
adventure.  Symbols appearing on your screen will represent the
dungeon's walls, floor, objects, features, and creatures lurking
about.  In order to direct your character through his adventure,
you will enter single character commands.

@emph{Moria} symbols and commands each have a help section devoted to
them.  You should review these sections before attempting an
adventure.  Finally, a description of the town level and some
general help on adventuring are included.

@node Symbols On Your Screen, Commands, Adventuring, Top
@chapter Symbols On Your Screen
Symbols on your map can be broken down into three categories:
Features of the dungeon such as walls, floor, doors, and traps;
objects which can be picked up such as treasure, weapons, magical
devices, etc; and creatures which may or may not move about the
dungeon, but are mostly harmful to your character's well-being.

Some symbols can be in more than one category.  Also note that
treasure may be embedded in a wall, and the wall must be removed
before the treasure can be picked up.

It will not be necessary to remember all of the symbols and their
meanings.  A simple command, the @code{/}, will identify any character
appearing on your map.  See the section on commands for further
help.

@verbatim
                            Features

.   A floor space, or hidden trap   1   Entrance to General Store
#   A wall                          2   Entrance to Armory
'   An open door                    3   Entrance to Weapon Smith
+   A closed door                   4   Entrance to Temple
^   A trap                          5   Entrance to Alchemy Shop
<   A staircase up                  6   Entrance to Magic Shop
>   A staircase down                :   Obstructing rubble
;   A loose floor stone                 An open pit (Blank)
%   A mineral vein                  @   The character
@end verbatim

@verbatim
                             Objects

!   A flask or potion         ?   A scroll
"   An amulet                 [   Hard armor
$   Money (Can be embedded)   \   A hafted weapon
&   A chest                   ]   Misc. armor
(   Soft armor                _   A staff
)   A shield                  {   Missile (arrow, bolt, pebble)
*   Gems (Can be embedded)    |   Sword or dagger
-   A wand                    }   Missile arm (Bow, X-bow, sling)
/   A pole-arm                ~   Misc
=   A ring                    ,   Food
s   A skeleton
@end verbatim

@verbatim
                 Creatures

a   Giant Ant           A   Giant Ant Lion
b   Giant Bat           B   The Balrog
c   Giant Centipede     C   Gelatinous Cube
d   Dragon              D   Ancient Dragon
e   Floating Eye        E   Elemental
f   Giant Frog          F   Fly
g   Golem               G   Ghost
h   Harpy               H   Hobgoblin
i   Icky-Thing          I
j   Jackal              J   Jelly
k   Kobold              K   Killer Beetle
l   Giant Louse         L   Lich
m   Mold                M   Mummy
n   Naga                N
o   Orc or Ogre         O   Ooze
p   Human(oid)          P   Giant Human(oid)
q   Quasit              Q   Quylthulg
r   Rodent              R   Reptile
s   Skeleton            S   Scorpion
t   Giant Tick          T   Troll
u                       U   Umber Hulk
v                       V   Vampire
w   Worm or Worm Mass   W   Wight or Wraith
x                       X   Xorn
y   Yeek                Y   Yeti
z   Zombie              Z
$   Creeping Coins      ,   Mushroom Patch


@end verbatim

Here is what your screen looks like after you've been playing @emph{moria} for a while:
@verbatim

                                 #            ' #
Elf                              # ############'#
Mage                             # #          # #
Mage (2nd)                       # #
                                 # #
STR :      9                     # #
INT :  18/78                     # #
WIS :     13                     # #
DEX :     16                     # #
CON :      8                     # #
CHR :     15                     # #
                         ####+#### #
LEV :     27             #........ #
EXP :  38487             #.......###
MANA:     66             #....@..#
MHP :    123             #........
CHP :    123             #.......#     
                         #.......#
AC  :     55             ####.#'##
GOLD:  23868


                                                           Study 1000 feet
@end verbatim

The top line is where you see messages about what's happening in the game.  The bottom line is a status line, where you can see what level you're at, and other things like if you're hungry, afraid, poisioned, or if you're moving especially slow or fast.  On the left side of the screen you see your character's stats.  Everything else, is the map of the dungeon.

This picture shows an elf mage character (@code{@@}) in a lit room at 1000 feet below the surface.  You can see the walls of the room (@code{#}), and the empty lit tiles within it (@code{.}).  The room has one closed door (@code{+}), and one open door (@code{'}), and three other ways to leave.  The character has arrived to this room through a tunnel or hall coming from the top of the screen.  The tunnel is not lit like the room is.  It will be lit by your light source as you travel through it.  There are no monsters visible.

From the statistics on the left side of the screen, you can see that the character is a @code{Mage (2nd)}, which is another way of saying that he is at level 27.  The reason that this character is at level 27 is because he has 38487 experience points.

He has 123 of 123 hit points available.  @code{MHP} means maximum hit points, while @code{CHP} means current hit points.  This spell-caster has exactly 66 mana (spell-casting) points to spend as he casts spells.  You can also see that he has some spells to learn.  The word @code{Study} in the bottom right shows this.

You can see the character's current levels of strength, intelligence, wisdom, dexterity, constitution and charisma.  The character doesn't have 18 of 78 intelligence, he has 18 78/100 intelligence, which is more than just 18.

His armor class is currently at 55, and he has a great number of gold pieces.

@node Commands, Special Keys, Symbols On Your Screen, Top
@chapter Commands
All commands are entered by pressing a single key.  Some commands
are capital or control characters, which require you to hold down
the shift or control key while pressing another key.  As a special 
feature, control keys may be entered in a single stroke, or
in two strokes, with a @code{^} character first.

There are two command sets: the original command set which is the
default, and the rogue like command set.  The rogue like command
is generally more convenient, especially if you don't have a
keypad.

The following tables summarize the two command sets.  Certain
commands may be preceded by an optional count, and certain commands 
must be followed by a direction.  These conditions are
indicated in the tables by @code{@@} for an optional count, and @code{~} for
a direction.  If a particular command requires additional key
strokes, then they will be prompted for.

@menu
* Special Keys::
* Direction::
* Command Counts::
* Selection of objects::
* Command descriptions::
@end menu

Original command summary.
@multitable {12345678} {1234567890123456789012345678} {12345678} {1234567890123456789012345678}
@item
@t{@tie{}@tie{}a} @tab Aim and fire a wand @tab 
@t{@@@tie{}B@tie{}~} @tab Bash (object/creature)
@item
@t{@tie{}@tie{}b} @tab Browse a book @tab 
@t{@tie{}@tie{}C} @tab Change name
@item
@t{@tie{}@tie{}c@tie{}~} @tab Close a door @tab
@t{@@@tie{}D@tie{}~} @tab Disarm a trap/chest 
@item
@t{@tie{}@tie{}d} @tab Drop an item @tab
@t{@tie{}@tie{}E} @tab Eat some food
@item
@t{@tie{}@tie{}e} @tab Equipment list @tab
@t{@tie{}@tie{}F} @tab Fill lap with oil
@item
@t{@tie{}@tie{}f} @tab Fire/Throw an item @tab
@t{@tie{}@tie{}G} @tab Gain new magic spells
@item
@t{@tie{}@tie{}i} @tab Inventory list @tab
@t{@tie{}@tie{}L} @tab Locate with map
@item
@t{@@@tie{}j@tie{}~} @tab Jam a door with spike @tab
@t{@tie{}@tie{}M} @tab Map shown reduced size
@item
@t{@tie{}@tie{}l@tie{}~} @tab Look given direction @tab
@t{@@@tie{}R} @tab Rest for a period
@item
@t{@tie{}@tie{}m} @tab Magic spell casting @tab
@t{@tie{}@tie{}S} @tab Search Mode
@item
@t{@@@tie{}o@tie{}~} @tab Open a door/chest @tab
@t{@@@tie{}T@tie{}~} @tab Tunnel in a direction
@item
@t{@tie{}@tie{}p} @tab Pray @tab
@t{@tie{}@tie{}V} @tab View scoreboard
@item
@t{@tie{}@tie{}q} @tab Quaff a potion @tab
@t{@tie{}@tie{}=} @tab Set options
@item
@t{@tie{}@tie{}r} @tab Read a scroll @tab
@t{@tie{}@tie{}?} @tab Command quick reference
@item
@t{@@@tie{}s} @tab Search for trap or door @tab
@t{@tie{}@tie{}@{} @tab Inscribe an object
@item
@t{@tie{}@tie{}t} @tab Take off an item @tab
@t{@@@tie{}-@tie{}~} @tab Move without pickup
@item
@t{@tie{}@tie{}u} @tab Use a staff @tab
@t{@tie{}@tie{}@.@tie{}~} @tab Run in direction
@item
@t{@tie{}@tie{}v} @tab Version, credits and manual @tab
@t{@tie{}@tie{}/} @tab Identify a character
@item
@t{@tie{}@tie{}w} @tab Wear/Wield an item @tab
@t{@tie{}@tie{}CTRL-K} @tab Quit the game
@item
@t{@tie{}@tie{}x} @tab Exchange weapon @tab
@t{@@@tie{}CTRL-P} @tab Repeat the last message
@item
@t{@tie{}@tie{}<} @tab Go up an up staircase @tab
@t{@tie{}@tie{}CTRL-X} @tab Save character and quit
@item
@t{@tie{}@tie{}>} @tab Go down a down staircase @tab
@t{@@@tie{}~} @tab for movement
@item
@t{} @tab @tab
@t{} @tab 
@end multitable

Rogue like command summary.
@multitable {12345678} {1234567890123456789012345678} {12345678} {1234567890123456789012345678}
@item
@t{@tie{}@tie{}c@tie{}~} @tab Close a door @tab
@t{@tie{}@tie{}C} @tab Character description
@item
@t{@tie{}@tie{}d} @tab Drop an item @tab
@t{@@@tie{}D@tie{}~} @tab Disarm a trap/chest
@item
@t{@tie{}@tie{}e} @tab Equipment list @tab
@t{@tie{}@tie{}E} @tab Eat some food
@item
@t{@@@tie{}f@tie{}~} @tab Force/bash item/monster @tab
@t{@tie{}@tie{}F} @tab Fill lamp with oil
@item
@t{@tie{}@tie{}i} @tab Inventory list @tab
@t{@tie{}@tie{}G} @tab Gain new magic spells
@item
@t{@@@tie{}o@tie{}~} @tab Open a door/chest @tab
@t{@tie{}@tie{}P} @tab Peruse a book
@item
@t{@tie{}@tie{}p} @tab Pray @tab
@t{@tie{}@tie{}Q} @tab Quit the game
@item
@t{@tie{}@tie{}q} @tab Quaff a potion @tab
@t{@@@tie{}R} @tab Rest for a period
@item
@t{@tie{}@tie{}r} @tab Read a scroll @tab
@t{@@@tie{}S@tie{}~} @tab Spike a door
@item
@t{@@@tie{}s} @tab Search for trap or door @tab
@t{@tie{}@tie{}T} @tab Take off an item
@item
@t{@tie{}@tie{}t} @tab Throw an item @tab
@t{@tie{}@tie{}V} @tab View scores
@item
@t{@tie{}@tie{}v} @tab Version, and manual @tab
@t{@tie{}@tie{}W} @tab Where: locate self
@item
@t{@tie{}@tie{}w} @tab Wear/Wield an item @tab
@t{@tie{}@tie{}X} @tab Exchange weapon
@item
@t{@tie{}@tie{}x@tie{}~} @tab Examine surroundings @tab
@t{@tie{}@tie{}Z} @tab Zap a staff
@item
@t{@tie{}@tie{}z} @tab Zap a wand @tab
@t{@tie{}@tie{}#} @tab Search Mode
@item
@t{@tie{}@tie{}=} @tab Set options @tab
@t{@tie{}@tie{}<} @tab Go up an up staircase
@item
@t{@tie{}@tie{}/} @tab Identify a character @tab
@t{@tie{}@tie{}>} @tab Go down a down stair
@item
@t{@@@tie{}CTRL-P} @tab Previous message review @tab
@t{@tie{}@tie{}@{} @tab Inscribe an object
@item
@t{@@@tie{}-@tie{}~} @tab Move without pickup @tab
@t{@tie{}@tie{}?} @tab Type this page
@item
@t{@@@tie{}CTRL@tie{}~} @tab Tunnel ina direction @tab
@t{@tie{}@tie{}CTRL-X} @tab Save game and exit
@item
@t{@@@tie{}SHFT@tie{}~} @tab Run in direction @tab
@t{@@@tie{}~} @tab for movement
@end multitable

@node Special Keys, Direction, Commands, Commands 
@section Special Keys
Certain commands may be entered at any time input is accepted.
The special character control-R, entered as a single key stroke,
will always refresh the screen.  This may be used at any prompt
for input, and is otherwise ignored.

If you are playing on a UNIX or similar system, then there are
some additional special characters used by @emph{moria}.  The special
character control-C will interrupt @emph{moria}, and ask if you really
want to die and quit the game.  If you choose not to die, @emph{moria}
merely continues as before, except that resting, running,
repeated commands, etc will be terminated.  You can suspend the
game with control-Z, and return to the original command shell.
In this case, @emph{moria} is not terminated, and may be restarted at
any time from the shell.  Alternatively, the special command @code{!}
is available to run any normal shell command.  When it is complete, 
@emph{moria} will restart.

For many input requests or queries, the special character ESCAPE
will abort the command.  For the "@t{-more-}" message prompts, any of
SPACE, ESCAPE, RETURN (control-m), or LINEFEED (control-j) can be
used to continue after pausing to read the displayed message.

It is possible to give control character commands in two key
stroke, by typing a @code{^} followed by the appropriate letter of the
alphabet.  This is useful when running @emph{moria} in circumstances
where control characters are intercepted by some external process, 
or by the operating system.

@node Direction, Command Counts, Special Keys, Commands 
@section Direction
For the original style command set, a direction is given by a
digit which is in the appropriate orientation on your keypad.
For the rogue like command set, a direction is given by one of
the letters @code{hykulnjb}.  Again, the relative position of the keys
on the keyboard gives a clue as to the direction.  The digit @code{5}
for the original commands, and the period @code{.} for rogue like commands, 
is a null direction indicator.  This is only allowed in a
movement command (to stay in one place) or in a look command (to
look in all directions).

@multitable {1234567890123456789012345678}{1234567890123456789012345678}
@item
@verbatim
 Original Directions

   \     |     /
    7    8    9

 -  4         6  -

    1    2    3
   /     |     \
@end verbatim
@tab
@verbatim
Rogue-like Directions

  \      |      /
   y     k     u

-  h           l  -

   b     j     n
  /      |      \
@end verbatim
@end multitable

Movement is accomplished by specifying a direction immediately.
Simply press the appropriate key and you character will move one
step in that direction.  You can only move onto and through floor
spots, and only if they contain no creatures or obstructing
objects such as a closed door.

Other commands that require a direction will prompt for it.

Moving your character one step at a time can be time consuming
and boring, so a faster method has been supplied.  For the original 
style command set, by using the Run command @code{.}, you may move
in a direction until something interesting happens.  For
instance, by pressing the period key @code{.} followed by the direction 
8, your character would continue to move up the screen, only
coming to a stop after at least one condition is satisfied.  For
the rogue like command set, typing a shifted directional letter
will move you in that direction until something interesting happens.  
The stopping conditions are described more completely in
the run command description below.

@node Command Counts, Selection of objects, Direction, Commands 
@section Command Counts

Some commands can be executed a fixed number of times by preceding 
them with a count.  Counted commands will execute until the
count expires, or until you type any character, or until something 
significant happens, such as being attacked.  Thus, a
counted command doesn't work to attack another creature.  While
the command is being repeated, the number of times left to be
repeated will flash by on the command line at the bottom of the
screen.

To give a count to a command in the rogue like mode, type the
number in digits, then the command.  A count of zero defaults to
a count of 99.

To give a count to a command in the original mode, type a @code{#},
followed by the digits.  To count a movement command (which is
itself a digit), type a space after the number, and you will then
be prompted for the command.

Counted commands are very useful for searching or tunneling, as
they automatically terminate on success, or if you are attacked.
You may also terminate a counted command, or a Run command, by
typing any character.  This character is ignored, but it is
safest to use a SPACE or ESCAPE which are always ignored as commands.

@node Selection of objects, Command descriptions,Command Counts, Commands 
Many commands will also prompt for a particular object to be
used.  For example, the command to read a scroll will ask you
which of the scrolls that you are carrying that you wish to read.
In such cases, the selection is made by typing a letter of the
alphabet; if you are selecting from your pack, you may also type
a digit to select the item whose inscription is that digit.  The
prompt will indicate the possible letters, and will also allow
you to type the key @code{*}, which causes all of the available
options to be described.

The particular object may be selected by an upper case or a lower
case letter.  If lower case or a digit is used, the selection
takes place immediately.  If upper case is used, then the particular 
option is described, and you are given the option of confirming or 
retracting that choice.  Upper case selection is thus
safer, but requires an extra key stroke.


@node Command descriptions,The Town Level,Selection of objects, Commands 
@section Command descriptions
In the following command descriptions, the original style key is
given.  If the rogue like key for that command is different, then
it will be shown following the original key.

@table @code
@item B <Dir> (f <Dir>)
@itemx Bash. 
The bash command includes breaking open doors and chests, or
bashing an opponent.  Your bashing ability increases with
weight and strength.  In addition, when bashing an opponent,
you will either perform a body bash, or, if wielding a
shield, perform a shield bash which is more effective.

Bashing a door can throw you off balance, but this will not
generally be a problem.  Doors that have been jammed closed
with spikes can only be opened by bashing.  Locked doors may
also be bashed open.  Bashing a door open will permanently
break it.

Bashing a creature affects both you and the opponent.
Depending on your dexterity, you may or may not be thrown
off balance allowing free moves to your opponent.  If the
bash is successful, your opponent may be thrown off balance,
thus giving you some free hits or a chance to run.  Huge
creatures such as ancient dragons will be difficult or
impossible to bash successfully.

A player automatically performs a shield bash instead of a
body bash, if he is currently wearing a shield.  A shield
bash adds the damage of a shield to that of the bash, so it
is more effective.  Size and material both affect the damage
that a shield will do.

You can apply a count to this command, but if you are thrown
off balance, the count will be reset straight away.

@item C
@itemx Print character (to screen or file).
This command allows the player to either display his character 
on the terminal screen, or to print an entire character
info listing to a file.  The character's history, equipment,
and inventory list are also included if you chose to print
it to a file.

@item D <Dir>
@itemx Disarm a trap.
You can attempt to disarm floor traps, or trapped chests.
If you fail to disarm a trap, there is a chance that you
blunder and set it off.  You can only disarm a trap on a
chest after finding it with the search command.  This command 
can have a count.

@item E
@itemx Eat some food.
A character must eat occasionally to remain effective.  As a
character grows hungry, a message will appear at the bottom
of the screen saying "@t{Hungry}".  If a character remains
hungry long enough, he will become weak, eventually start
fainting, and finally die of starvation.

@item F
@itemx Fill a lamp or lantern with oil.
If your character is currently using a lamp for light, and
if he has a flask of oil in inventory, he may refill the
lamp by using this command.  A lamp is capable of a maximum
of 15000 turns of light, and each flask has 7500 turns of
oil contained in it.

@item G
@itemx Gain new spells.
To actually learn new spells, you must use this command.
When you are able to learn some spells, the word "@t{Study}"
will appear on the status line at the bottom of the screen.
Mages, rogues, and rangers must have the magic books containing 
new spells to be able to learn them.  Priests and
Paladins are given their prayers by their gods, and hence do
not need a holy book before learning the prayers in it.
They do need the book in order to use the prayers.

@item L (W)
@itemx Location on map.
The location command allows you to look at all parts of the
current dungeon level.  The displayed view of the dungeon is
shifted to bring your current position as close to the
center as possible.  You may then shift the displayed map in
any of the eight possible directions.  Each shift moves your
view point by one half screen.  The top line displays a map
section number, each map section having a height and width
one half that of the display, and indicates the direction of
the display from your current position.  If you exit this
command while you are not on the display, then the display
is centered again.

@item M
@itemx Map shown reduced size.
This command will show the entire map, reduced by a factor
of nine, on the screen.  Since nine places map into every
character on the screen, only the major dungeon features
will be visible.  This is especially useful for finding
where the stairs are in relation to your current position.
It is also useful for identifying unexplored areas.

@item R
@itemx Rest for a number of turns.
You may rest one turn with the null movement command.  Resting 
for longer periods of time is accomplished by using the
Rest command, followed by the number of turns you want to
rest your character.  Resting will continue until the specified 
duration has expired, or something to wake the character happens, 
such as a creature wandering by, or getting
hungry, or some disability like blindness expiring.  It is
sometimes a good idea to rest a beat-up character until he
regains some of his hit points, but be sure to have plenty
of food if you rest often.

If you have accidentally entered in a rest period too large,
or change your mind about the resting period, you may wake
your character up by typing any character.  Space is best,
since if the rest ends just before the character is typed,
the space is ignored as a command.

It is also possible to rest by typing the count first, and
using either the Rest or the null movement command.

If you type @code{*} for the rest count, your character will rest
until both hp and mana reach their maximum values.  As
above, you will immediately stop resting if anything
interesting happens.

@item S (#)
@itemx Search mode toggle. 
The Searching toggle will take you into and out of search
mode.  When first pressed, the message "@t{Searching}" will
appear at the bottom of the screen.  You are now taking two
turns for each command, one for the command and one turn to
search.  This means that you are taking twice the time to
move about the dungeon, and therefore twice the food.  If a
creature should happen by or attack you, search mode will
automatically shut off.  You may also turn off search mode
by again pressing the @code{S} (or @code{#}) key.

@item T <Dir> (control-<Dir>)
@itemx Tunnel through rock. 
Tunneling (Mining) is a very useful art.  There are four
kinds of rock present in the dungeons of @emph{moria}: Permanent
Rock, Granite Rock, Magma Intrusion, and Quartz Veins.  Permanent 
Rock is exactly that, permanent.  Granite is very
hard, therefore hard to dig through, and contains no valuable 
metals.  Magma and Quartz veins are softer and sometimes bear 
valuable metals and gems, shown as a @code{$} or a @code{*}
character.  You can tell if the metal or gems are embedded
into the wall by trying to move onto them.  If you can't
move over them, you'll have to dig them out.  There is an
option which causes magma and quartz to be displayed differently 
than other rock types.

Tunneling can be VERY difficult by hand, so when you dig be
sure to wield either a shovel or a pick.  Magical shovels
and picks can be found which allow the wielder to dig much
faster than normal, and a good strength also helps.

Tunneling can have a count.

@item V
@itemx View scoreboard.
This command will display the contents of the score board on
the screen.  On a multiuser system, typing @code{V} the first
time will show only those scores from the score board that
are yours, and typing @code{V} again will show all users' scores.

@item a <Dir> (z <Dir>)
@itemx Aim a wand.
Wands must be aimed in a direction to be used.  Wands are
magical devices and therefore use the Magical Devices ability 
of the player.  They will either affect the first
object/creature encountered, or affect anything in a given
direction, depending upon the wand.  An obstruction such as
a door or wall will generally stop the effects of a wand
from traveling further.

@item b (P)
@itemx Browse a book.
You can only read a book if you are of its realm.  Therefore
a magic user could read a magic book, but not a holy book.
Warriors will not be able to read either kind of book.  When
the browse command is used, all of the spells or prayers
contained therein are displayed, along with information such
as their level, the amount of mana used up in casting them,
and whether or not you know the spell or prayer.  There are
a total of 31 different magical spells in four books, and 31
different prayers in four books.

@item c <Dir>
@itemx Close a door.
Nonintelligent and certain other creatures will not be able
to open a door.  Therefore shutting doors can be a life
saver.  You must be adjacent to an open door, and you cannot
close broken doors.  Bashing a door open will break it.

@item d
@itemx Drop an object from your inventory.
You can drop an object onto the floor beneath you if that
floor spot does not already contain an object.  Doors and
traps are considered objects in this sense.  If you have
several objects of the same kind, you will be prompted for
dropping one or all of them.  It is possible to directly
drop things which you are wielding or wearing.

@item e
@itemx Display a list of equipment being used.
Use the Equipment command to display a list of objects
currently being used by your character.  Each object has a
specific place where it is placed, and that only one object
of each type may be used at any one time, excepting rings of
which two can be worn, one on each hand.

@item f <Dir> (t <Dir>)
@itemx Fire/Throw an object/use a missile weapon.
You may throw any object carried by your character.  Depending 
upon the weight of an object, it may travel across a
room or drop down beside you.  If you throw an object such
as an arrow, only one will be used at a time.

If you throw at a creature, your chance of hitting the
creature is determined by your plusses to hit, your ability
at throwing, and the object's plusses to hit.  Once the
creature is hit, the object may or may not do any actual
damage to it.  Certain objects in the dungeon can do great
amounts of damage when thrown, but it's for you to figure
out the obscure ones.  Oil flasks are considered to be lit
before thrown; therefore, they will do fire damage to a
creature if they hit it.

To use a bow with arrows, simply wield the bow and throw the
arrows.  Extra plusses to damage and hitting are gained by
wielding the proper weapon and throwing the corresponding
ammo.  A heavy crossbow with bolts for example, is a
killer...

@item i
@itemx Display a list of objects being carried.
This command displays a list of all objects being carried,
but not currently in use.  You may carry up to 22 different
kinds of objects, not including those in your equipment
list.  Depending upon your strength, you will be able carry
many identical objects before hitting your weight limit.

@item j <Dir> (S <Dir>)
@itemx Jam a door with an iron spike.
Most humanoid and many intelligent creatures can simply open
a closed door, and can eventually get through a locked door.
Therefore you may spike a door in order to jam it.  Each
spike used on a door will increase its strength, although
the more spikes you add, the less effect each additional
spike has.  It is very easy to jam a door so much as to make
it impossible for your character to bash it down, so spike
doors wisely.  The bigger a creature is, the easier it can
bash a door down.  Therefore twenty or more spikes might be
necessary to slow down a dragon, where one spike would slow
down a kobold.  This command can be counted.

@item l <Dir> (x <Dir>)
@itemx Look in a direction. 
The Look command is useful in identifying the exact type of
object or creature shown on the screen.  Also, if a creature
is on top of an object, the look command will describe both.
You can see creatures and objects up to 200 feet away (20
spaces).  You may freely use the Look command without the
creatures getting a move on you.

Looking in a particular direction sees everything within a
cone of vision which just overlaps the cones of the two
adjacent directions.  Looking with the null direction @code{5}
(or @code{.}) sees everything which there is to be seen.

You are also able to access you monster memories with this
command.  If you see a creature, you are prompted to ask if
you wish to see a short paragraph of information about your
experiences with that creature.  See also the section on
being attacked.

@item m
@itemx Cast a magic spell.
To cast a spell, a character must have previously learned
it, and must also have in the inventory a magical book from
which the spell may be read.  Each spell has a chance of
failure which starts out fairly large but decreases as a
character gains levels.  If a character does not have enough
mana, the chance of failure is greatly increased, and he
gambles on losing a point of constitution.  You will be
prompted for confirmation before trying to cast a spell when
you don't have enough mana.  Since a character must read the
spell from a book, he cannot be blind or confused when casting 
a spell, and there must be some light present.

@item o <Dir>
@itemx Open a door, chest, or lock.
To open an object such as a door or chest, you must use the
Open command.  If the object is locked, the Open command
will attempt to pick the lock, based on your ability at
disarming.  If an object is trapped and you open it, the
trap will be set off.  This command can be counted, because
you may need several tries to get a locked door or chest
open.

@item p
@itemx Read a prayer.
To pay effectively, a character must have learned the
prayer, and must also have in the inventory a holy book from
which the prayer may be read.  Each prayer has a chance of
being ignored which starts out fairly large but decreases as
a character gains levels.  If a character does not have
enough mana, the chance of failure is greatly increased, and
he gambles on losing a point of constitution.  You will be
prompted for confirmation before trying to pray when you
don't have enough mana.  Since a character must read the
prayer from a book, he cannot be blind or confused when
praying, and there must be some light present.

@item q
@itemx Quaff a potion.
To drink a potion use the Quaff command.  A potion affects
the player in some manner.  The effects of the potion may be
immediately noticed, or they may be subtle and unnoticed.

@item r
@itemx Read a scroll.
To read a scroll use the Read command.  Most scroll spells
either affect the player or the area around the player; a
few cases such as identify scrolls act on other objects.
Two scrolls, the identify scroll and the recharge scroll,
have titles which can be read without setting them off, and
by pressing ESCAPE can be saved for future use.

@item s
@itemx Search general area one turn.
The Search command can be used to locate hidden traps and
secret doors about the player.  More than a single turn of
searching will be required in most cases.  You should always
search a chest before trying to open it because they are
generally trapped.  This command can be counted, which is
useful if you are really sure of finding something eventually.  
A counted search ends as soon as anything is found.

@item t (T)
@itemx Take off a piece of equipment. 
Use the Take Off command to remove an object from use, and
return it to your inventory.  Occasionally you will run into
a cursed item which cannot be removed.  Cursed items are
always bad, and can only be taken off after removing the
curse.

@item u (Z)
@itemx Use/Zap a staff.
The Use command will activate a staff.  Like scrolls, most
staffs have an area effect.  Because staffs are generally
more powerful than most other items, they are also harder to
use correctly.

@item v
@itemx Display current version of game.
The Version command displays the credits for the current
version of @emph{moria}.

@item w
@itemx Wear or wield an item being carried.
To wear or wield an object in your inventory, use the
Wear/Wield command.  If another object is already in use for
the same function, it is automatically removed first; if you
are wearing two rings, you are given a choice of which one
to remove.  An object's bonuses cannot be gained until it is
worn or wielded.

@item x (X)
@itemx Exchange primary and secondary weapons.
A secondary weapon is any weapon which may be needed often.
Instead of searching through your inventory, you may use the
exchange command to keep the weapon ready.  For instance, if
you wanted to use your bow most of the time, but needed a
sword for close combat, you could wield your sword, use the
exchange command to make it the secondary weapon, then wield
your bow.  If the sword was suddenly needed, simply use the
exchange command to switch between the bow and the sword.

@item /
@itemx Identify a character shown on screen.
Use the identify command to find out what a character
displayed on the screen stands for.  For instance, by pressing 
@code{/.}, you can find out that the @code{.} stands for a floor
spot.  When used with a creature, the identify command will
tell you only what class of creature the symbol stands for,
not the specific creature; therefore, use the look command
for this information.

If you identify the character for a creature in your monster
memory, you are also prompted to ask if you wish to see a
paragraph of information on those creatures identified by
the given character.  Several creatures may be identified in
this way.  Typing ESCAPE after the paragraph for any
creature will abort back to command level.  See also the
section on being attacked.

@item ?
@itemx Display a list of commands.
The ? command displays a quick reference help page on the
screen.

@item -
@itemx Move without pickup.
This is followed by a move command, and causes you to move
over any object without picking it up.  You can associate a
count with this command.

@item =
@itemx Set options.
This is a free move, to set various @emph{moria} options.  The
available options are:

@enumerate
@item
Cut known corners when running.  This is on by default, and
the only reason for switching it off would be if you had the
search flag on and wished to look for doors in the extremity
of every corner.

@item
Examine potential corners when running.  This is on by
default, and allows you to run along an unknown curving corridor.  
If, however, you are running from a creature, you
may wish to switch this option off, because the creature
will cut the corner.

@item
Print self during a run.  This is off by default, which
gives faster screen updating.

@item
Stop when map sector changes.  This is off by default, but
can be switched on if you wish to stop running whenever a
new part of the dungeon appears in view.

@item
Treat open doors as empty space while running.  This is off
by default, in which case you stop whenever you run up to an
open door.

@item
Prompt to pick up objects.  This is off by default, in which
case stepping over an object automatically causes you to
pick it up.  With the option on, you get prompted in all
such cases with a description of the object to see if you
really want to take it.

@item
Rogue like command set.  This option controls the command
set in use.  It is off by default.

@item
Show weights in inventory.  This is off by default: switching 
it on causes the inventory and equipment listings to
include the weight of all objects.  This may be useful to
know if your pack is getting too heavy.

@item 
Highlight and notice mineral seams.  This is off by default.
Switching it on causes quartz and magma to be displayed as
@code{%} instead of @code{#}; also, it causes the look command to
treat them as interesting objects.  This is handy when mining.  
Setting this option does not immediately highlight all
minerals, but only those which are subsequently displayed.
To display all minerals, just move the map around a bit with
the `Where' (or `Locate') command.

@item
Beep for invalid character.  This is on by default.  When
on, the program will beep for most invalid characters, such
as trying to choose a spell that you haven't learned yet.
When off, there are no such beeps.

@item
Display rest/repeat counts.  This is on by default.  When
on, the program will progressively display the remaining
turns left while resting, and for repeated commands.  For
those trying to play over a 2400 bps or less connection, or
for those playing on very slow microcomputers, turning this
off will make resting and repeated commands work much faster.

@item
Disable haggling.  This is off by default.  When on, all
haggling will be disabled at the cost of a 10 percent tax
on the final price on items you would otherwise have had to
haggle for, and all prices displayed in the stores will be
the actual prices you have to pay.
@end enumerate

The setting of all these options persist in your savefile,
even after you die.

@item ^P
@itemx Previous message.
The Control-P command will redisplay the last message
printed on the message line at the top of your screen.  A
second such command will display all of the saved messages.
You may also give this command a count to specify the number
of previous messages to display.  At present, only 22 messages 
are saved.

@item ^K (^Q)
@itemx Kill your character.
To exit the game without saving your character (i.e. kill
him/her) use the Control-K command.  Once exited in this
manner, your character is nonrecoverable.

@item ^X
@itemx Save your character and exit the game.
To save your game so that it can be restarted later, use the
Control-X command.  Save files will also be generated if the
game crashes due to a system error.  When you die, a reduced
save file is produced containing only your monster memory,
and your option settings.

@item @{
@itemx Inscribe an object.
This command can be used to inscribe any short string on an
object.  Inscriptions are limited to twelve characters.  The
inscription applies only to the particular object, it is not
automatically transferred to all similar objects.  Under
certain circumstances, @emph{moria} will itself inscribe objects:
if they have been discovered to be cursed or enchanted, or
if they have been sampled without being identified.  In this
last case, @emph{moria} does in fact carefully inscribe every such
item.

If the inscription on an item is a single digit, that digit
can be used to refer to it when using, wearing, or wielding
an item from your pack.  For example, if you keep a pick in
your pack with the inscription 1, you can switch to the pick
by wielding item 1 without checking your full inventory list
to find out which item the pick is.

@item !
@itemx Shell out of game.
Use the Shell command @code{!} to temporarily exit the game to
execute UNIX or MSDOS commands.  You may reenter the game by
typing exit to end the spawned process.  This is not implemented 
in the Macintosh version.

@item <
@itemx Go up an up staircase.
If you move onto an up staircase you may use the @code{<} command
to go up one level.  There is always one staircase going up
on every level except for the town level (this does not mean
it's easy to find).  Going up a staircase will always take
you to a new dungeon area except for the town level, which
remains the same for the duration of your character.

@item >
@itemx Go down a down staircase.
If you are on top of a down staircase you may use the @code{>}
command to go down one level.  There are always two or three
staircases going down on each level, except the town level
which has only one.  Going down will always take you to a
new dungeon area.

@item . <Dir> (shift <Dir>)
@itemx Move in direction. 
The Run command will move you in the indicated direction
until either you have to make a choice as between two directions, 
or something interesting happens.  There are options
which determine behavior at corners, and at screen boundaries.  
More precisely, the conditions which stop a run are
as follows:

@enumerate
@item
A creature appears on the screen, one already on the screen
moves, or a creature attacks you or casts a spell at you.

@item
You move next to an object, or a feature such as a door or
trap.

@item
You come to the end of open space, or the end of a passage,
or a junction of passages, or a hole in a wall.

@item
Anything typed during a run causes the run to stop.  The
character causing this to occur is ignored.  It is best to
use a space, which is ignored as a command, just in case the
run stops just before you type the character.

@item
Various changes of state, such as recovery from fear or loss
of heroism, will stop a run.
@end enumerate

Corners are more complex.  A corner allows a choice between
adjacent rectangular and diagonal directions.  If you can
see walls which ensure that the diagonal gives a faster
traversal, then action is determined by the "cut corners"
options.  If it is set, then you move diagonally through the
corner.  This gives you maximum speed (as is nice if you are
fleeing a hidden creature).  On the other hand, this option
should not be set if you want more careful coverage (as when
you are searching) so that you take two moves through the
corner.

At a potential corner, where walls are not yet visible ahead
of the rectangular direction, the "examine corners" option
is considered.  If set, you will move straight into the
corner, which will light up all the corner and so determine
where you can go from there.  This allows you to follow
corners in new passages.  If the option is not set, you
stop.  This allows highly cautious running where you want to
stop at all potential choice points.

If you move off the screen while running, then a new section
of the dungeon is displayed and the run continues.  However,
if the "stop when map changes" option is set, you will stop.
Again, this is an option for nervous players; after all,
there may be a dragon on the new screen.
@end table


@node The Town Level,Townspeople, Command descriptions, Top
@chapter The Town Level
The town level is where you will begin your adventure.  The town
consists of six buildings, each with an entrance, some townspeople, 
and a wall which surrounds the town.  The first time you are
in town it will be daytime, but you may return to find that darkness 
has fallen.  (Note that some spells may act differently in
the town level.)

@menu
* Townspeople::
* Supplies::
* Town Buildings::
@end menu


@node Townspeople,Supplies,The Town Level, The Town Level
@section Townspeople
The town contains many different kinds of people.  There are the
street urchins, young children who will mob an adventurer for
money, and seem to come out of the woodwork when excited.
Blubbering Idiots are a constant annoyance, but not harmful.
Public drunks wander about the town singing, and are of no threat
to anyone.  Sneaky rogues hang about watching for a likely victim
to mug.  And finally, what town would be complete without a swarm
of half-drunk warriors, who take offense or become annoyed just
for the fun of it.

Most of the townspeople should be avoided by the largest possible
distance when you wander from store to store.  Fights will break
out though, so be prepared.  Since your character grew up in this
world of intrigue, no experience is awarded for killing on the
town level.


@node Supplies,Town Buildings,Townspeople, The Town Level
@section Supplies
Your character will begin his adventure with some supplies
already on him.  Use the Inventory @code{i} command to check what
these supplies are.  It will be necessary to buy other supplies
before continuing into the dungeon, however, so be sure to enter
each of the stores.

@node Town Buildings,Within The Dungeon,Supplies, The Town Level
@section Town Buildings
You may enter any of the stores, if they are open, and barter
with the owner for items you can afford.  When bartering, you
enter prices you will pay (or accept) for some object.  You can
either enter the absolute amount, or precede a number with a plus
or minus sign to give a positive or negative increment on your
previous offer.  If you have previously given an increment or
decrement amount, you can just type RETURN, and the program will
use the last increment amount that you typed.  But be warned that
the owners can easily be insulted, and may even throw you out for
a while if you insult them too often.  To enter a store, simply
move onto the entrance represented by the numbers 1 through 6.

If you consistently bargain well in a store, that is, you reach
the final offer much more often than not, then the store owner
will eventually recognize that you are a superb haggler, and will
go directly to the final offer instead of haggling with you.
Items which cost less than 10 gold pieces do not count, as haggling 
well with these items is usually either very easy or almost
impossible.

Once inside a store, the store inventory will appear on the
screen along with a set of options for your character.  You may
browse the store's inventory if it takes more than one page to
display, and you may sell to, or purchase items from, his inventory.  
You can execute your inventory and equipment commands to
see what you are carrying.  Not shown with the options are the
wear, take off, and exchange commands which will also work, but
were excluded to keep the options simple.

Stores do not always have everything in stock.  As the game
progresses, they may get new items, so check from time to time.
Also, if you sell them an item, it may get sold to a customer
while you are adventuring, so don't always expect to be able to
get back everything you have sold.

Store owners will not buy harmful or useless items.  If an object
is unidentified, they will pay you some base price for it.  Once
they have bought it they will immediately identify the object.
If it is a good object, they will add it to their inventory.  If
it was a bad bargain, they simply throw the item away.  In any
case, you may receive some knowledge of the item if another is
encountered.

@table @code
@item The General Store
The General Store sells foods, drinks, some clothing,
torches, lamps, oil, shovels, picks, and spikes.  All of
these items, and some others, can be sold back to the General 
store for money.  The entrance to the General Store is
a @code{1}.

@item The Armory
The Armory is where the town's armor is fashioned.  All
sorts of  protective gear may be bought and sold here.  The
entrance to the Armory is a @code{2}.

@item The Weaponsmith's Shop
The Weaponsmith's Shop is where the town's weapons are
fashioned.  Hand and missile weapons may be purchased and
sold here, along with arrows, bolts, and shots.  The
entrance to the Weaponsmith's is a @code{3}.

@item The Temple
The Temple deals in healing and restoration potions, as well
as bless scrolls, word of recall scrolls, some approved priestly 
weapons, etc.  The entrance to the Temple is a @code{4}.

@item The Alchemy Shop
The Alchemy Shop deals in all manner of potions and scrolls.
The entrance to the Alchemy Shop is a @code{5}.

@item The Magic User's Shop
The Magic User's Shop is the most expensive of all the
stores.  It deals in all sorts of rings, wands, amulets, and
staves.  The entrance to the Magic Shop is a @code{6}.

@end table

@node Within The Dungeon,Attacking and Being Attacked,Town Buildings,Top 
@chapter Within The Dungeon
Once your character is adequately supplied with food, light,
armor, and weapons, he is ready to enter the dungeon.  Move on
top of the @code{>} symbol and use the down @code{>} command.  Your character 
enters a maze of interconnecting staircases and finally
passes through a one-way door.  He is now on the first level of
the dungeon (50 feet), and must survive many horrible and challenging 
encounters to find the treasure lying about.

There are two sources for light once inside the dungeon: permanent 
light which has been magically placed within rooms, and a
light source carried by the player.  If neither is present, the
character will be unable to map or see any attackers.  Lack of
light will also affect searching, picking locks, and disarming.

A character must wield a torch or lamp in order to supply his own
light.  Once a torch or lamp has only 50 or less turns left
before burning out, the message "@t{Your light is growing faint}"
will be displayed at random intervals.  Once a torch is burnt
out, it is useless and can be dropped.  A lamp or lantern can be
refilled with oil by using the Fill @code{F} command.  You must of
course be carrying extra oil to refill a lantern.

@node Attacking and Being Attacked,Monster Memories,Within The Dungeon,Top 
@chapter Attacking and Being Attacked
Attacking is simple in @emph{moria}.  If you move into a creature, you
attack it.  You can attack from a distance by firing a missile,
or by magical means such as aiming a wand.  Creatures attack in
the same way; if they move into you, they attack you.  Some
creatures can also cast spells from a distance, and others can
breathe fire or worse on you from a distance.

@menu
* Monster Memories::
* Your Weapon::
* Body and Shield Bashes::
* Your Armor Class::
* Crowns::
* Magic Spells::
@end menu

Creatures moving in walls can not be attacked by wands and other
magic attacks normally stopped by walls.  You can attack a
creature in a wall normally though by trying to move into the
wall space containing the creature.  However, in order to attack
an invisible creature in a wall, you must tunnel into the wall
containing the creature.  If you just try to move into the wall,
you will bump your head and look quite silly.

If you are wielding a weapon, the damage for the weapon is used
when you hit a creature.  Otherwise, you get two fist strikes.
Very strong creatures can do a lot of damage with their fists...
You may have a primary weapon, and a secondary weapon which is
kept on your belt or shoulder for immediate use.  You can switch
between your primary and secondary weapons with the exchange command.  
Be sure to wield the proper weapon when fighting.  Hitting
a dragon over the head with a bow will simply make him mad, and
get you killed.

Missile weapons, such as bows, can be wielded, and then the
proper missile, in this case an arrow, can be fired across the
room into a target.  Missiles can be used without the proper missile 
weapon, but used together they have a greater range and do
far more damage.

Hits and misses are determined by ability to hit versus armor
class.  A hit is a strike that does some damage; a miss may in
fact reach a target, but fails to do any damage.  Higher armor
classes make it harder to do damage, and so lead to more misses.

@node Monster Memories,Your Weapon,Attacking and Being Attacked,Attacking and Being Attacked
@section Monster Memories
There are hundreds of different creatures in the mines of @emph{moria},
many of which look the same on the screen.  The exact species of
a creature can be discovered by looking at it.  It is also very
difficult to keep track of the capabilities of various creatures.
Rather than forcing you to keep notes, @emph{moria} automatically keeps
track of your experiences with a particular creature.  This is
called the monster memory.  You monster memory recalls the particular 
attacks of each creature which you have suffered, as well
as recalling if you have observed them to multiply or move erratically, 
or drop treasure, or many other attributes.

If you have killed enough of a particular creature, or suffered
enough attacks, recalling the monster memory may also provide you
with information not otherwise available, such as a armor class
or hit dice.  These are not explained, but may be useful to give
the relative danger of each creature.  This memory can be passed
on to a new character even after you die, by means of a reduced
save file.

@node Your Weapon,Body and Shield Bashes,Monster Memories,Attacking and Being Attacked
@section Your Weapon
Carrying a weapon in your backpack does you no good.  You must
wield a weapon before it can be used in a fight.  A secondary
weapon can be kept by wielding it and then using the exchange
command.  A secondary weapon is not in use, simply ready to be
switched with the current weapon if needed.

Weapons have two main characteristics, their ability to hit and
their ability to do damage, expressed as @code{(+#,+#)}.  A normal
weapon would be @code{(+0,+0)}.  Many weapons in @emph{moria} have magical
bonuses to hit and/or do damage.  Some weapons are cursed, and
have penalties that hurt the player.  Cursed weapons cannot be
unwielded until the curse is lifted.

@emph{Moria} assumes that your youth in the rough environment near the
dungeons has taught you the relative merits of different weapons,
and displays as part of their description the damage dice which
define their capabilities.  The ability to damage is added to the
dice roll for that weapon.  The dice used for a given weapon is
displayed as @code{#d#}.  The first number indicates how many dice to
roll, and the second indicates how many sides they have.  A "2d6"
weapon will give damage from 2 to 12, plus any damage bonus.  The
weight of a weapon is also a consideration.  Heavy weapons may
hit harder, but they are also harder to use.  Depending on your
strength and the weight of the weapon, you may get several hits
in one turn.

Missile booster weapons, such as bows, have their characteristics
added to those of the missile used, if the proper weapon/missile
combination is used.  Also, these weapons will multiply the base
damage of the missile by a number from 2 to 4, depending on the
strength of the weapon.  This multiplier is displayed as @code{(x#)}.

Although you receive any magical bonuses an unidentified weapon
may possess when you wield it, those bonuses will not be added in
to the displayed values of to-hit and to-dam on your character
sheet.  You must identify the weapon before the displayed values
reflect the real values used.

Finally, some rare weapons have special abilities.  These are
called ego weapons, and are feared by great and meek.  An ego
sword must be wielded to receive benefit of its abilities.

Special weapons are denoted by the following abbreviations:

@table @code
@item DF
@itemx Defender.
A magical weapon that helps the wielder defend himself, thus
increasing his/her armor class, and protecting him/her
against damage from fire, frost, acid, lightning, and falls.
This weapon also will increase your stealth, let you see
invisible creatures, protect you from paralyzation attacks,
and help you regenerate hit points and mana faster.  As a
result of the regeneration ability, you will use up food
faster than normal while wielding such a weapon.

@item FB
@itemx Frost Brand.
A magical weapon of ice that delivers a cold critical to
heat based creatures.  It will inflict one and a half times
the normal damage when used against a heat based creature.

@item FT
@itemx Flame Tongue.
A magical weapon of flame that delivers a heat critical to
cold based creatures.  It will inflict one and a half times
the normal damage when used against cold based or inflammable 
creatures.

@item HA
@itemx Holy Avenger.
A Holy Avenger is one of the most powerful of weapons.  A
Holy Avenger will increase your strength and your armor
class.  This weapon will do extra damage when used against
evil and undead creatures, and will also give you the ability 
to see invisible creatures.

@item SA
@itemx Slay Animal.
A Slay Animal weapon is a special purpose weapon whose sole
intent is to destroy all the dangerous animals in the world.
An animal is any creature natural to the world.  Therefore
an orc would not be an animal, but a giant snake would be.
This will inflict twice the normal amount of damage when
used against an animal.

@item SD
@itemx Slay Dragon.
A Slay Dragon weapon is a special purpose weapon whose sole
intent is to destroy dragon-kind.  Therefore, when used
against a dragon, the amount of damage done is four times
the normal amount.

@item SE
@itemx Slay Evil.
A Slay Evil weapon is a special purpose weapon whose sole
intent is to destroy all forms of evil.  When used against
an evil creature, either alive or undead, the damage done
twice the normal amount.

@item SU
@itemx Slay Undead.
A Slay Undead weapon is a special purpose weapon whose sole
intent is to destroy all forms of undead.  This weapon is
hated and feared by the intelligent undead, for a single
blow from this weapon will inflict three times the normal
amount of damage.  This weapon also gives you the ability to
see invisible creatures, which is especially useful against
undead, since many of them are normally invisible.
@end table

@node Body and Shield Bashes,Your Armor Class,Your Weapon,Attacking and Being Attacked
@section Body and Shield Bashes
Weight is the primary factor in being able to bash something, but
strength plays a role too.  After bashing, a character may be off
balance for several rounds depending upon his dexterity.

Doors can be broken down by bashing them.  Once a door is bashed
open, it is forever useless and cannot be closed.

Chests too may be bashed open, but be warned that the careless
smashing of a chest often ruins the contents.  Bashing open a
chest will not disarm any traps it may contain, but does allow
the strong and ignorant to see what is inside.

Finally, a creature may be bashed.  If a shield is currently
being worn, the bash is a shield bash and will do more damage.
In either case, a bash may throw an opponent off balance for a
number of rounds, allowing a player to get in a free hit or more.
If the player is thrown off balance, his opponent may get free
hits on him.  This is a risky attack.

@node Your Armor Class,Crowns,Body and Shield Bashes,Attacking and Being Attacked
@section Your Armor Class
Armor class is a number that describes the amount and the quality
of armor being worn.  Armor class will generally run from about 0
to 60, but could become negative or greater than 60 in rare
cases.

The larger your armor class, the more protective it is.  A negative 
armor class would actually help get you hit.  Armor protects
you in three manners.  One, it makes you harder to be hit for
damage.  A hit for no damage is the same as a miss.  Two, good

armor will absorb some of the damage that your character would
have taken.  An armor class of 30 would absorb 15% of any damage
meant for him.  Three, acid damage is reduced by wearing body
armor.  It is obvious that a high armor class is a must for surviving 
the lower levels of @emph{moria}.

Each piece of armor has an armor class adjustment, and a magical
bonus.  Armor bought in town will have these values displayed
with its description.  Armor that is found within the dungeon
must be identified before these values will be displayed.  All
armor always has the base armor class displayed, to which the
bonus is added.  It is always possible to figure this out anyway,
by watching the effect it has on your displayed armor class.

Armor class values are always displayed between a set of brackets
as @code{[#]} or @code{[#,+#]}.  The first value is the armor class of the
item.  The second number is the magical bonus of the item which
is only displayed if known, and will always have a sign preceding
the value.  There are a few cases where the form @code{[+#]} is used,
meaning the object has no armor class, only a magical armor bonus
if worn.  Body armor may also have a (-#) displayed in
parentheses; this is a penalty to hit, because the bulk of the
armor makes it more difficult to swing a weapon freely.

Some pieces of armor will possess special abilities denoted by
the following abbreviations:

@table @code
@item RA
@itemx Resist Acid.
A character using such an object will take only one-third
normal damage from any acid thrown upon him.  In addition,
armor so enchanted will resist the acid's effects and not be
damaged by it.

@item RC
@itemx Resist Cold.
A character using a resist cold object will take only one-third 
damage from frost and cold.

@item RF
@itemx Resist Fire.
A character using a resist fire object will take only one-third 
damage from heat and fire.

@item RL
@itemx Resist Lightning.
A character using a resist lightning object will take only
one-third damage from electrical attacks.

@item R
@itemx Resistance.
A character wearing armor with this ability will have resistance 
to Acid, Cold, Fire, and Lightning as explained in
each part above.
@end table

@node Crowns,Magic Spells,Your Armor Class,Attacking and Being Attacked
@section Crowns
Some crowns also have special magical abilities that improve your
chances in a battle.

@table @code
@item Crown of Might
This is the great crown of the warriors.  The wearer will
have an increased strength, dexterity, and constitution, and
will also be immune to any foe's attempt to slow or paralyze
him or her.

@item Crown of the Magi
This is the great crown of the wizards.  The wearer will
have an increased intelligence, and will also be given
resistance against fire, frost, acid, and lightning.

@item Crown of Lordliness
This is the great crown of the priests.  The wearer will
have an increased wisdom and charisma.

@item Crown of Seeing
This is the great crown of the rogues.  The wearer will be
able to see even invisible creatures, and will have an
increased ability to locate traps and secret doors.

@item Crown of Regeneration
This crown will help you regenerate hit points and mana more
quickly than normal, allowing you to fight longer before
needing to rest.  You will use of food faster than normal
while wearing this crown because of the regenerative
effects.

@item Crown of Beauty
This crown looks impressive, and will increase your
charisma, but is otherwise not useful.
@end table

@node Magic Spells,Priest Spells,Crowns,Attacking and Being Attacked
@section Magic Spells

All player characters except warriors are able to learn some form of
magic spells.  There are two kinds of magic, magic spells, which mages,
rogues, and rangers get, and prayers, which priests and paladins have.
Each spell has a minimum level required for learning it, a mana score,
which is the mana points required to cast it, and a failure percentage.

Mana points are determined by your experience level, and the level of
your key stat.  For mages, rogues, and rangers, the key stat is intelligence,
for priests and paladins the key stat is wisdom.  The effect of your key
stat is shown by the following table.

@example
@group
@verbatim
             Stat Level                 Factor
                3-7                       0
                8-17                      1
               18-18/49                  3/2
            18/50-18/69                   2
            18/70-18/89                  5/2
            18/90-18/99                   3
               18/100                     4
@end verbatim
@end group
@end example

Your mana score is the factor times your experience level plus 1.
If your key stat is 7 or less, your mana score will be zero (not one)
and you will not be able to use any spells.  If you attempt to cast a
spell that calls for more mana than you have, the rate of failure is much
greater than normal, you will faint for a few turns afterward, and you stand
the chance of damaging your health.

@menu
* Priest Spells::
* Mage Spells::
* Using Offensive Spells Against Monsters::
@end menu

@node Priest Spells,Priest Spell Levels And Mana,Magic Spells,Magic Spells
@subsection Priest Spells

Priest spells are received from the character's deity.  When the @code{G}
command is issued to learn new spells, spells are chosen randomly from
the spells that you are able to cast.  You need not
have the book the spell is in to learn it, because your God gave it to you,
but you do need the book to cast the spell.  Failure percentages and spell
effectiveness are based on wisdom for priests and paladins.

@menu
* Priest Spell Levels And Mana::
* Priest Spell Descriptions::
@end menu

@node Priest Spell Levels And Mana,Priest Spell Descriptions,Priest Spells,Priest Spells
@subsubsection Priest Spell Levels And Mana

This is a table of all the spells, with the mana and level of achievement
for Priests and Paladins.
@example
@group
@verbatim
                           Priest    Paladin
(Beginner's Handbook)     Lv  Mana   Lv  Mana
A  Detect Evil             1   1      1   1
B  Cure Light Wounds       1   2      2   2
C  Bless                   1   2      3   3
D  Remove Fear             1   2      5   3
E  Call Light              3   2      5   4
F  Find Traps              3   3      7   5
G  Detect Doors/Stairs     3   3      7   5
H  Slow Poison             3   3      9   7

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Words of Wisdom)
A  Blind Creature          5   4      9   7
B  Portal                  5   4      9   8
C  Cure Medium Wounds      5   4     11   9
D  Chant                   5   5     11  10
E  Sanctuary               7   5     11  10
F  Create Food             7   5     13  10
G  Remove Curse            7   6     13  11
H  Resist Heat and Cold    7   7     15  13

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Chants and Blessings)
A  Neutralize Poison       9   6     15  15
B  Orb of Draining         9   7     17  15
C  Cure Serious Wounds     9   7     17  15
D  Sense Invisible        11   8     19  15
E  Protection from Evil   11   8     19  15
F  Earthquake             11   9     21  17
G  Sense Surroundings     13  10     23  17
H  Cure Critical Wounds   13  11     25  20
I  Turn Undead            15  12     27  21

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Exorcisms and Dispellings)
A  Prayer                 15  14     29  22
B  Dispel Undead          17  14     31  24
C  Heal                   21  16     33  28
D  Dispel Evil            25  20     35  32
E  Resist Poison Gas      31  45     --  -- 
F  Glyph of Warding       33  24     37  36
G  Holy Word              39  32     39  38
@end verbatim
@end group
@end example

@node Priest Spell Descriptions,Mage Spells,Priest Spell Levels And Mana,Priest Spells
@subsubsection Priest Spell Descriptions

This is a short description of each of the spells, listed alphabetically.

@table @samp
@item Bless
Improves armor class and fighting ability for a short period of time.
@item Blind Creature
Blinds a creature for a short period of time.
@item Call Light
Lights up an area.
@item Chant
Improves armor class and fighting ability for a medium period of time.
@item Create Food
Causes a food item to be dropped at your feet.
@item Cure Critical Wounds
Cures a very large number of hit points.
@item Cure Light Wounds
Cures a small number of hit points.
@item Cure Medium Wounds
Cures a medium number of hit points.
@item Cure Serious Wounds
Cures a large number of hit points.
@item Detect Doors/Stairs
Finds all the doors and stairs on the screen.
@item Detect Evil
Finds all the evil creatures on the screen.
@item Dispel Evil
Attempts to destroy the evil creature.
@item Dispel Undead
Attempts to destroy the undead creature.
@item Earthquake
Randomly toggles corridors into walls and vice versa.
@item Find Traps
Locates all the traps on the screen.
@item Glyph of Warding
Leaves a 'Glyph' that monsters won't pass over.
@item Heal
Restores 200 Hit Points.
@item Holy Word
Dispels evil, removes fear, cures poison, restores 1000 HPs, restores all stats, and invulnerability for 3 turns.
@item Neutralize Poison
Cures you of poison.
@item Orb of Draining
Offensive spell that drains levels from monsters.
@item Portal
Teleports you a short distance away.
@item Prayer
Improves armor class and fighting ability for a long period of time.
@item Protection from Evil
Causes evil creatures to do less damage to you.
@item Remove Curse
Removes @{damned@} objects that you are welding.
@item Remove Fear
Negates the fear placed on you by an enemy.
@item Resist Heat and Cold
Reduce damage you suffer from heat or cold attacks.
@item Sanctuary
Causes neighboring monsters to fall asleep for a while.
@item Sense Invisible
Finds all invisible creatures on the screen.
@item Sense Surroundings
Maps the dungeon appearing on the screen.
@item Slow Poison
Reduces the rate HP are lost due to poison.
@item Turn Undead
Attempts to cause undead creatures to flee.
@end table

@node Mage Spells,Mage Spell Levels And Mana,Priest Spell Descriptions,Magic Spells
@subsection Mage Spells

Mage Spells are more powerful and offensive in nature than priest
spells.  This offsets the fact that magicians are generally weaker
than any other class.  Because mage spells are learned though
study, you must have the correct magic book to learn and cast a
spell.  Learning spells can be banked up.  For example:  You are a
second level mage who had learned Magic Missile and can learn one
more spell.  You do not wish to learn Detect Monsters, Phase Door
or Light Area.  You can wait until you are third level and learn
both the Cure Light Wounds and Stinking Cloud, both third level
spells.  Spell failure and effectiveness is based on intelligence
for mages, rangers, and rogues.  Rangers can learn all but the most
powerful offensive spell.  Rogues can not learn any offensive spell.

@menu
* Mage Spell Levels And Mana::
* Mage Spell Descriptions::
@end menu

@node Mage Spell Levels And Mana,Mage Spell Descriptions,Mage Spells,Mage Spells
@subsubsection Mage Spell Levels And Mana

@example
@group
@verbatim
                                  Mage       Ranger      Rogue
(Beginners-Magik)               Lv  Mana    Lv  Mana    Lv  Mana
A  Magic Missile                 1   1       3   1      --  --
B  Detect Monsters               1   1       3   2       5   1
C  Phase Door                    1   2       3   2       7   2
D  Light Area                    1   2       5   3       9   3
E  Cure Light Wounds             3   3       5   3      11   4
F  Find Hidden Traps/Doors       3   3       5   4      13   5
G  Stinking Cloud                3   3       7   5      --  --

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Magik I)
A  Confusion                     3   4       7   6      15   6
B  Lightning Bolt                5   4       9   7      --  --
C  Trap/Door Destruction         5   5       9   8      17   7
D  Sleep I                       5   5      11   8      19   8
E  Cure Poison                   5   5      11   9      21   9
F  Teleport Self                 7   6      13  10      --  --
G  Remove Curse                  7   6      13  11      23  10
H  Frost Bolt                    7   6      15  12      --  --
I  Turn Stone to Mud             9   7      15  13      --  --

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Magik II)
A  Create Food                   9   7      17  17      25  12
B  Recharge Item I               9   7      17  17      27  15
C  Sleep II                      9   7      21  17      --  --
D  Polymorph Other              11   7      21  19      --  --
E  Identify                     11   7      23  25      29  18
F  Sleep III                    13   7      23  20      --  --
G  Fire Bolt                    15   9      25  20      --  --
H  Slow Monster                 17   9      25  21      --  --

@end verbatim
@end group
@end example
@example
@group
@verbatim
(Mages Guide to Power)
A  Frost Ball                   19  12      27  21      --  --
B  Recharge Item II             21  12      29  23      --  --
C  Teleport Other               23  12      31  25      --  --
D  Haste Self                   25  12      33  25      --  --
E  Fire Ball                    29  18      35  25      --  --
F  Resist Poison Gas            31  45      --  --      --  --
G  Word of Destruction          33  21      37  30      --  --
H  Genocide                     37  25      --  --      --  --
@end verbatim
@end group
@end example

Note:  Rangers don't get spells until 3rd level, Rogues 5th level.

@node Mage Spell Descriptions,Using Offensive Spells Against Monsters,Mage Spell Levels And Mana,Mage Spells
@subsubsection Mage Spell Descriptions

@table @samp
@item Confusion
Confuses a monster for a short time.
@item Create Food
Causes a food item to be dropped at your feet.
@item Cure Light Wounds
Restores a small number of hit points.
@item Cure Poison
Neutralizes the poison running through your veins.
@item Detect Monsters
Displays all the monsters on the screen.
@item Find Hidden Traps/Doors
Locates all the secret traps and doors.
@item Fire Ball
Shoots a ball of flame toward a monster.
@item Fire Bolt
Shoots a bolt of flame toward a monster.
@item Frost Ball
Shoots a ball of frost toward a monster.
@item Frost Bolt
Shoots a bolt of frost toward a monster.
@item Genocide
Destroys a particular monster on the level.
@item Haste Self
Causes you to move faster temporarily.
@item Identify
Identifies an unknown object in your pack.
@item Light Area
Illuminates the area you are in with light.
@item Lightning Bolt
Shoots a bolt of lightning at your enemy.
@item Magic Missile
Traditional bolt of magic used to damage enemies.
@item Phase Door
Teleports you a short distance.
@item Polymorph Other
Polymorphs a monster into a different creature.
@item Recharge Item I and II
Recharges a staff, rod, or wand.
@item Remove Curse
Allows you to unwield @{damned@} items.
@item Sleep I
Causes a monster of your choosing to fall asleep.
@item Sleep II
Causes neighboring monsters to fall asleep.
@item Sleep III
Causes all monsters in range to fall asleep.
@item Slow Monster
Causes a monster to move slower.
@item Stinking Cloud
Shoots a ball of noxious vapors to do damage.
@item Teleport Self
Teleports you to a new place on the level.
@item Teleport Other
Teleports an enemy to a new place on the level.
@item Trap/Door Destruction
Destroys all neighboring doors and traps.
@item Turn Stone to Mud
Causes a wall (or other stone object) to melt.
@item Word of Destruction
Destroys the entire screen.
@end table

For spells that come in numbered versions (Sleep I, II, III, etc), the
higher numbers have a higher effectiveness, but greater change
of spell failure and greater Mana cost.

@node Using Offensive Spells Against Monsters,Objects Found In The Dungeon,Mage Spell Descriptions,Magic Spells
@subsection Using Offensive Spells Against Monsters

Monsters have a chance to save themselves from damage caused by
offensive spells, just like the player has a chanced to be saved from
damage by monster spells.  This chance is greater for higher level
monsters than for lower level monsters.  Also, some spells will never
work against monsters whose level is higher than the character's
experience level.

Many monsters are immune to certain kinds of attack, and will suffer little
or no damage from such attacks.  For example, a fire breathing dragon will
suffer little damage from a fire ball, but will suffer greatly from a
frost ball.  Also, undead creatures will not be affected by sleep spells,
since they never sleep.


@node Objects Found In The Dungeon,Cursed Objects,Using Offensive Spells Against Monsters,Top
@chapter Objects Found In The Dungeon
The mines are full of objects just waiting to be picked up and
used.  How did they get there?  Well, the main source for useful
items are all the foolish adventurers that proceeded into the
dungeon before you.  They get killed, and the helpful creatures
scatter the various treasure throughout the dungeon.  Most cursed
items are placed there by the joyful evil sorcerers, who enjoy a
good joke when it gets you killed.
@menu
* Cursed Objects::
* Mining::
* Staircases Secret Doors Passages and Rooms::
@end menu

You pick up objects by moving on top of them.  You can carry up
to 22 different items in your backpack while wearing and wielding
many others.  Although you are limited to 22 different items, you
may be carrying several items of each kind, restricted only by
the amount of weight your character can carry.  Your weight limit
is determined by your strength.  Only one object may occupy a
given floor location, which may or may not also contain one
creature.  Doors, traps, and staircases are considered objects
for this purpose.

If you try to carry more weight than your limit, you will move
more slowly than normal until you drop the extra weight.  If
picking up an object would take you over your weight limit, then
you will be asked whether you really want to pick it up.  It is a
good idea to leave the object alone if you are fleeing from a
monster.

Many objects found within the dungeon have special commands for
their use.  Wands must be Aimed, staffs must be Used, scrolls
must be Read, and potions must be Quaffed.  In any case, you must
first be able to carry an object before you can use it.  Some
objects, such as chests, are very complex.  Chests contain other
objects and may be trapped, and/or locked.  Read the list of
player commands carefully for a further understanding of chests.

One item in particular will be discussed here.  The scroll of
"Word-of-Recall" can be found within the dungeon, or bought at
the temple in town.  It acts in two manners, depending upon your
current location.  If read within the dungeon, it will teleport
you back to town.  If read in town, it will teleport you back
down to the deepest level of the dungeon on which your character
has previously been.  This makes the scroll very useful for getting 
back to the deeper levels of @emph{moria}.  Once the scroll has
been read, it takes a while for the spell to act, so don't expect
it to save you in a crisis.

The game provides some automatic inscriptions to help you keep
track of your possessions.  Wands and staves which are known to
be empty will be inscribed with "@t{empty}".  Objects which have been
tried at least once, but haven't been identified yet will be
inscribed with "@t{tried}".  Cursed objects are inscribed with
"@t{damned}".  Also, occasionally you will notice that something in
your inventory or equipment list seems to be magical.  High level
characters are much more likely to notice this than beginning
characters.  When you do notice this, the item in question will
be inscribed with "@t{magik}".

And lastly, a final warning: not all objects are what they seem.
Skeletons lying peacefully about the dungeon have been known to
get up...
@node Cursed Objects,Mining,Objects Found In The Dungeon,Objects Found In The Dungeon
@section Cursed Objects
Some objects, mainly armor and weapons, have had curses laid upon
them.  These horrible objects will look like any other normal
item, but will detract from your character's stats or abilities
if worn.  They will also be impossible to remove until a remove
curse is done.

If you wear or wield a cursed item, you will immediately feel
something wrong.  The item will also be inscribed "@t{damned}".

@node Mining,Staircases Secret Doors Passages and Rooms,Cursed Objects,Objects Found In The Dungeon
@section Mining
Much of the treasure within the dungeon can be found only by mining 
it out of the walls.  Many rich strikes exist within each
level, but must be found and mined.  Quartz veins are the
richest, yielding the most metals and gems, but magma veins will
have some hordes hidden within.

Mining is virtually impossible without a pick or shovel.  Picks
and shovels have an additional magical ability expressed as
@code{(+#)}.  The higher the number, the better the magical digging
ability of the tool.  A pick or shovel also has plusses to hit
and damage, and can be used as a weapon.

When a vein of quartz or magma is located, the character should
wield his pick or shovel and begin digging out a section.  When
that section is removed, he should locate another section of the
vein, and begin the process again.  Since granite rock is much
harder to dig through, it is much faster to follow the vein
exactly and dig around the granite.  There is an option for
highlighting magma and quartz.

If the character has a scroll or staff of treasure location, he
can immediately locate all strikes of treasure within a vein
shown on the screen.  This makes mining much easier and more profitable.

It is sometimes possible to get a character trapped within the
dungeon by using various magical spells and items.  So it is a
very good idea to always carry some kind of digging tool, even
when you are not planning on tunneling for treasure.

@node Staircases Secret Doors Passages and Rooms,Winning The Game,Mining,Objects Found In The Dungeon
@section Staircases, Secret Doors, Passages and Rooms
Staircases are the manner in which you get deeper, or climb out
of the dungeon.  The symbols for the up and down staircases are
the same as the commands to use them.  A @code{<} represents an up
staircase and a @code{>} represents a down staircase.  You must move
your character over the staircase before you can use them.

Each level has at least one up staircase, and at least two down
staircases.  There are no exceptions to this rule.  You may have
trouble finding some well hidden secret doors, but the stairs are
there.

Many secret doors are used within the dungeon to confuse and
demoralize adventurers foolish enough to enter.  But with some
luck, and lots of concentration, you can find these secret doors.
Secret doors will sometimes hide rooms or corridors, or even
entire sections of that level of the dungeon.  Sometimes they
simply hide small empty closets or even dead ends.

Creatures in the dungeon will generally know and use these secret
doors.  If they leave one open, you will be able to go right
through it.  If they close it behind them you will have to search
for the catch first.  Once a secret door has been discovered by
you, it is drawn as a known door and no more searching will be
required to use it.


@node Winning The Game,Upon Death and Dying,Staircases Secret Doors Passages and Rooms,Top
@chapter Winning The Game
Once your character has progressed into killing dragons with but
a mean glance and snap of his fingers, he may be ready to take on
the Balrog.  The Balrog will appear on most levels after level
49, so don't go down there until you are ready for him.

The Balrog cannot be killed in some of the easier methods used on
normal creatures.  Because of the Balrog's cunning, he will
teleport away to another level if a spell such as destruction is
used upon him, and the Balrog cannot be polymorphed, slept, confused, 
or genocided.  Magical spells like coldball are effective
against him, as are weapons, but he is difficult to kill, and if
allowed to escape to another level can heal himself.

If you should actually survive the attempt of killing the Balrog,
you will receive the status of WINNER.  Since you have defeated
the toughest creature alive, your character is ready to retire
and cannot be saved.  When you quit the game, your character
receives a surprise bonus score.


@node Upon Death and Dying, Wizards,Winning The Game, Top
@chapter Upon Death and Dying
If your character falls below 0 hit points, he has died and cannot 
be restored.  A tombstone showing information about your
character will be displayed.  You are also permitted to get a
record of your character, and all your equipment (identified)
either on the screen or in a file.

Your character will leave behind a reduced save file, which contains 
only the monster memory and your option choices.  It may be
restored, in which case the new character is generated exactly as
if the file was not there, but the new player will find his monster 
memory containing all the experience of past incarnations.

@node Wizards,Contributors,Upon Death and Dying, Top
@chapter Wizards
There are rumors of @emph{moria} Wizards which, if asked nicely, can
explain details of the @emph{moria} game that seem complicated to
beginners.

@node Contributors,A Word From The Authors,Wizards, Top
@chapter Contributors
The following people have contributed to @emph{moria}:

@itemize
@item
Robert Alan Koeneke (Creator of Moria)
@item
Jimmey Wayne Todd
@itemize @minus
@item
added character generator
@item
added skills 
@item
added history
@end itemize
@item
James E. Wilson (Creator of Umoria 4.87)
@itemize @minus
@item
ported moria from VMS to unix
@end itemize
@item
David J. Grabiner (Maintainer of Umoria 5.5.2)
@itemize @minus
@item
many bug fixes
@end itemize
@item
Lars Hegelund
@itemize @minus
@item
many bug fixes
@end itemize
@item
Ben Asselstine
@itemize @minus
@item
changed build system to autoconf
@item
added manual in texinfo format 
@end itemize
@item
D. G. Kneller 
@itemize @minus
@item
reduced map display
@item
16 bit integers
@end itemize
@item
Christopher J. Stuart 
@itemize @minus
@item
recall
@item
options
@item
inventory
@item
running code
@end itemize
@item
William Setzer 
@itemize @minus
@item
object naming code
@end itemize
@item
Dan Bernstein 
@itemize @minus
@item
UNIX hangup signal fix
@item
many bug fixes
@end itemize
@item
Joseph Hall 
@itemize @minus
@item
line of sight code
@end itemize
@item
Brian Johnson
@itemize @minus
@item
linux support [Ed note: GNU+Linux support]
@end itemize
@item
Eric Bazin 
@itemize @minus
@item
merge monster memories
@end itemize
@end itemize

@node A Word From The Authors,,Contributors, Top
@chapter A Word From The Authors

Here are some interesting correspondences that Robert Alan Koeneke and James E. Wilson have made on the internet.

@menu
* The Early Days of Moria::
* Moria and the GPL::
* The Early Days of UMoria::
@end menu

@node The Early Days of Moria,Moria and the GPL,A Word From The Authors,A Word From The Authors
@section The Early Days of Moria
Robert Alan Koeneke, posting on rec.games.roguelike.*, 21.  February 1996

I had some email show up asking about the origin of Moria, and its relation to Rogue. So I thought I would just post some text on the early days of Moria.

First of all, yes, I really am the Robert Koeneke who wrote the first Moria. I had a lot of mail accussing me of pulling their leg and such. I just recently connected to Internet (yes, I work for a company in the dark ages where Internet is concerned) and was real surprised to find Moria in the news groups... Angband was an even bigger surprise, since I have never seen it. I probably spoke to its originator though... I have given permission to lots of people through the years to enhance, modify, or whatever as long as they freely distributed the results. I have always been a proponent of sharing games, not selling them.

Anyway...

Around 1980 or 81 I was enrolled in engineering courses at the University of Oklahoma. The engineering lab ran on a PDP 1170 under an early version of UNIX. I was always good at computers, so it was natural for me to get to know the system administrators. They invited me one night to stay and play some games, an early startrek game, The Colossal Cave Adventure (later just 'Adventure'), and late one night, a new dungeon game called 'Rogue'.

So yes, I was exposed to Rogue before Moria was even a gleam in my eye. In fact, Rogue was directly responsible for millions of hours of play time wasted on Moria and its descendents...

Soon after playing Rogue (and man, was I HOOKED), I got a job in a different department as a student assistant in computers. I worked on one of the early VAX 11/780's running VMS, and no games were available for it at that time. The engineering lab got a real geek of an administrator who thought the only purpose of a computer was WORK! Imagine... Soooo, no more games, and no more rogue!

This was intolerable! So I decided to write my own rogue game, Moria Beta 1.0. I had three languages available on my VMS system. Fortran IV, PASCAL V1.?, and BASIC. Since most of the game was string manipulation, I wrote the first attempt at Moria in VMS BASIC, and it looked a LOT like Rogue, at least what I could remember of it. Then I began getting ideas of how to improve it, how it should work differently, and I pretty much didn't touch it for about a year.

Around 1983, two things happened that caused Moria to be born in its recognizable form. I was engaged to be married, and the only cure for THAT is to work so hard you can't think about it; and I was enrolled for fall to take an operating systems class in PASCAL.

So, I investigated the new version of VMS PASCAL and found out it had a new feature. Variable length strings! Wow...

That summer I finished Moria 1.0 in VMS PASCAL. I learned more about data structures, optimization, and just plain programming that summer then in all of my years in school. I soon drew a crowd of devoted Moria players... All at OU.

I asked Jimmey Todd, a good friend of mine, to write a better character generator for the game, and so the skills and history were born. Jimmey helped out on many of the functions in the game as well. This would have been about Moria 2.0

In the following two years, I listened a lot to my players and kept making enhancements to the game to fix problems, to challenge them, and to keep them going. If anyone managed to win, I immediately found out how, and 'enhanced' the game to make it harder. I once vowed it was 'unbeatable', and a week later a friend of mine beat it! His character, 'Iggy', was placed into the game as 'The Evil Iggy', and immortalized... And of course, I went in and plugged up the trick he used to win...

Around 1985 I started sending out source to other universities. Just before a OU / Texas football clash, I was asked to send a copy to the Univeristy of Texas... I couldn't resist... I modified it so that the begger on the town level was 'An OU football fan' and they moved at maximum rate. They also multiplied at maximum rate... So the first step you took and woke one up, it crossed the floor increasing to hundreds of them and pounded you into oblivion... I soon received a call and provided instructions on how to 'de-enhance' the game!

Around 1986 - 87 I released Moria 4.7, my last official release. I was working on a Moria 5.0 when I left OU to go to work for American Airlines (and yes, I still work there). Moria 5.0 was a complete rewrite, and contained many neat enhancements, features, you name it. It had water, streams, lakes, pools, with water monsters. It had 'mysterious orbs' which could be carried like torches for light but also gave off magical aura's (like protection from fire, or aggrivate monster...). It had new weapons and treasures... I left it with the student assistants at OU to be finished, but I guess it soon died on the vine. As far as I know, that source was lost...

I gave permission to anyone who asked to work on the game. Several people asked if they could convert it to 'C', and I said fine as long as a complete credit history was maintained, and that it could NEVER be sold, only given. So I guess one or more of them succeeded in their efforts to rewrite it in 'C'.

I have since received thousands of letters from all over the world from players telling about their exploits, and from administrators cursing the day I was born... I received mail from behind the iron curtain (while it was still standing) talking about the game on VAX's (which supposedly couldn't be there due to export laws). I used to have a map with pins for every letter I received, but I gave up on that!

I am very happy to learn my creation keeps on going... I plan to download it and Angband and play them... Maybe something has been added that will surprise me! That would be nice... I never got to play Moria and be surprised...

Robert Alan Koeneke 

@node Moria and the GPL,The Early Days of UMoria,The Early Days of Moria,A Word From The Authors
@section Moria and the GPL

Robert Alan Koeneke, posting to debian-devel mailing list.  Febrary 2005

Ok, I am working on getting the correct GPL statement put together so this
game on all the games based on it don't have any restrictions to
distribution.  It was never my intention to make it hard to share, just to
make certain my name stayed with the game and future variants of it.

Sheesh, I should have gone into game design I guess.  I had no idea people
were still playing these games.  Did anyone ever add the Moria V5.0 new
features to the game?  Liquids (pools, streams, lava, etc), orbs, and
recipes for building magic weapons?  There were other things but that's the
stuff I remember off-hand.

In case you can't tell, I am no longer a part of the coding community.  I
moved up the corporate chain to the point of all I do is design enterprise
systems; no one lets me touch code anymore.

Enjoy.

Robert Alan Koeneke

Enterprise Architect
@node The Early Days of UMoria,,Moria and the GPL,A Word From The Authors
@section The Early Days of Umoria
James E Wilson, posting on rec.games.roguelike.moria.  January 2006

I started work on Umoria in February 1987.  I somehow acquired play
testers in April.  I don't recall exactly how, but I was at a
university, so maybe they saw me playing it on a public terminal and
asked for a copy.  The game slowly spread around the Berkeley area.  By
November, the game was in good enough shape that I could post it to
comp.sources.games.  I think I was still calling it UNIX Moria then, to
distinguish it from the original, but the comp.sources.games moderator
shortened it to Umoria, and that name has stuck.  After the
comp.sources.games posting, the game was widely available, and things
just grew from there.  The Usenet rec.games.moria group was created
sometime around Jan 1, 1988, and was where most of the early discussions
about it occurred.

I originally got involved with Moria because I was tired of playing
other games.  I spent a lot of time playing games such as rogue and
hack, and was looking for something different to try.  There was a game
called UltraRogue that I enjoyed playing.  Unfortunately, it had some
very frustrating bugs, and it was only available as a binary.  I spent
some time investigating the possibilities of trying to decompile it and
fix it.  Before I got very far, I chanced upon a copy of the VMS Pascal
Moria sources and quickly decided that porting the sources to Unix was a
better project than trying to fix UltraRogue.  After I gained some fame
as the Umoria author, I did manage to get a copy of of the UltraRogue
sources, but by then it was too late, and I wasn't sure if I had a legal
copy of the sources, so I never did anything with them.

The original game was written in VAX/VMS Pascal with some VAX/VMS
Assembler.  I did not have access to a VMS machine, and both the Pascal
and Assembler code would not work with Unix because of many uses of VMS
extensions.  Since C was a more common language for Unix anyways, I
decided to just convert the whole thing to C.  Much of the initial
syntax conversion was done via emacs macros.  Then it was just a matter
of tweaking the sources until they would compile.  The hardest part was
finding and fixing all of the off-by-one errors, as Pascal array
indexing starts at 1, and C array indexing starts at 0.  It took me
years to find and fix all of the off-by-one errors.  I still can't
believe how hard it was to find them all.  At least, I hope I found them
all.

Mostly what I remember about the early years of working on Umoria was
that it was a good introduction to software engineering principles.  I
had to learn how to deal with bugs, bug fixes, release schedules, making
and distributing releases, etc.  It was just a game, but I learned many
valuable lessons about real world software development while working on
it.

One of my favorite moments from my Umoria years is when I got mail from
one of the authors of rogue.  I recognized the name right away, and had
to ask.  He confirmed that he was one of the rogue authors, and that he
was a fan of Umoria.  That made my day.

The credits in the PC/Windows game Diablo mention that it was inspired
in part by Umoria.
@bye
